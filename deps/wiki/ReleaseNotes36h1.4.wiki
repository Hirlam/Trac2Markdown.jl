[[PageOutline]]
[[Center(begin)]]
= '''Release notes of Harmonie-36h1.4''' =
[[LastModified]]
[[Center(end)]]

== Highlights of Harmonie-36h1.4 ==

HARMONIE-36h1.4 is released on the 13th of July 2011. 36h1.4 is a technical and meteorological update of 36h1.3.

Harmonie-36h1 code-series as maintained in HIRLAM's system repository is an adaptation to the IFS/ALADIN Cycle 36T1 and the subsequent 9 bugfix versions, with the aim to serve the needs for both operational as well as research applications in the HIRLAM community. At its default, the official release 36h1.4 features a meso-scale forecast system with convection-permitting AROME physics, 3D-VAR upper air assimilation, and an optimal interpolation-based surface analysis, on a model grid with 2.5 km grid-spacing in horizontal and 65 vertical levels. Harmonie-36h1.3 also includes a comprehensive set of scripts and utilities supporting various optional components and applications.

Harmonie 36h1.4 bases its source code on cycle 36T1 and the subsequent bug fixes (up to bf9). In addition, it includes
 * Hirlam's local source code updates including those options for an improved physical parameterisation, code optimisations
 * a comprehensive set of system scripts to help users to adapt for various platforms/applications, such as those for build, running testbed, experimentation with domains, assimilation options (3D-VAR, 4D-VAR, CANARI, CANARI-OI-MAIN), forecasts with ALARO/AROME/ALADIN physics, different coupling methods, and post-processing and diagnosis such as for monitoring and verification.

Harmonie 36h1.4 contains a long list of [log:branches/harmonie-36h1/?action=follow_copy&mode=follow_copy&rev=9559&stop_rev=8857&limit=300 updates]. Some selected features are :

 * Updates with meteorological impact
  * Usage and treatment of conventional observations [8879]
  * Usage and treatment of satellite observations and local data [9454],[9467],[9470],[9488],[9490],[9500]
  * Correction of the spectral filtering of orography [9086]
  * Corrected and activated EDMFM [9087],[9554]
  * Activate CANOPY_DRAG in AROME [8885]
  * Changes in ALARO tunings and physics [8927], [9333]
  * Surface analysis updates [8878],[9199],[9258],[9260]
  * Introduce optional mixing of larger scales through the LMIXBC switch [9356]
  * Correction of translation of soil wetness through SWI in gl [9209]
  * First experimental version of ensemble prediction option in Harmonie [9510]

 * Monitoring updates
  * Basic timeserie plotting of observation usage [9345]
  * Satellite bias timeserie plotting [9498]
  * Conditional verification [8890]
  * Several new scores in the monitoring [8897],[8950]
  * Field verification updates [8955]

 * Technical updates
  * mSMS and mXCdp improvements ([log:branches/harmonie-36h1/msms/?action=follow_copy&mode=follow_copy&rev=9559&stop_rev=8857&limit=300 list])
  * !SaniDisk, HIRLAM like continuous cleaning of old files [8952]
  * Treatment of GRIB2 input data throug gl_grib_api [9371]
  * Correction of empty ODB pool problems causing operational crashes [9404],[9506],[9553],[9561],[9566]

== Experiment configuration changes ==

 * MASS_FLUX_SCHEME used in AROME has been changed from edkf to edmfm.
 * BDSTRATEGY=operational has been renamed to the more appropriate simulate_operational. For operational usage, BDSTRATEGY should always be set to available.
 * LMIXBC is the new flag for large scale mixing. It is turned off by default
 * Ensemble mode settings, ENSMSEL, ENSMDA, ENSMFAIL, ENSMDAFAIL
 * OBSMONITOR has be changed from yes/no to obstat/obtime/no
 * LNOEXTZ=.false. has been added for the experimental setup without calculations in the extension zone
 * Several new domains and several new sets of Jb statistics have been added

== Meteorological performance ==

A selected set of evaluation runs has been performed and are presented on the [wiki:Harmonie_36h1/ValidationTests#Observationverification harmonie-36h1 evaluation page]. The evaluations runs are still ongoing and the results are preliminary.

 * The most noticeable difference for AROME is the improvement in 10m wind speed. For other screen level parameters the difference is mixed. For upper air parameters the results are neutral.

 * For Alaro we note that we have a small improvement of T2M for the summer period. For the winter period T2M is on average warmer. This leeds to a better perfomance for moderate temperatures ( > -10 ^o C) and a larger positive bias for the colder periods. LMIXBC=yes has a general positive impact on winter on both surface and upper air parameters ( summer not yet complete ).

 * Known problems
   * Larger T2M biases for selected stations can be noted for both ALARO and AROME. The change is related to the change in orography and the cold start initialization of the surface variables.
   * AROME T2M temperatures has a slightly larger diurnal error during summer time.

== Libraries and source code downloads ==

 * On ECMWF, the check-out version of harmonie-36h1.4 is available as,
{{{
   ecgate:/home/ms/spsehlam/hlam/harmonie_release/tags/harmonie-36h1.4
}}}
 * The full set of compiled libraries for are found under
{{{
     /ms_perm/hirlam/harmonie/pack/36h1_main.04.XLF120100000003.x  for gmkpack
     /ms_perm/hirlam/harmonie/precompiled/36h1.4                   for makeup 
}}} 
 * harmonie-36h1.4 can also be obtained via Subversion command, e.g., from ecgate:
{{{
   svn co https://svn.hirlam.org/tags/harmonie-36h1.4
}}}
 * The export tarball of the harmonie-36h1.4 is available at ECMWF ECFS on ec:/hirlam/src/tar/harmonie-36h1.4.tar.gz

== Bugfix versions for Harmonie-36h1.4 ==

 [log:tags/harmonie-36h1.4.bf1 harmonie-36h1.4.bf1] contains the following changes

 * Changes with clear meteorological impact
  * Correct SWI translation from HIRLAM boundaries in gl_grib_api [10139]. Affects the surface and soil temperatures at a cold start with HIRLAM data on the boundaries.
  * Use deep soil temperature for update of inland lake temperatures [10170] instead of climatological values

 * Other changes without any significant meteorological impact
  * Correction of uninitialized array causing non-reproducable results in edmfm [10060] 
  * Correct handling of empty pools in Canari [9566],[9842]
  * Index bug in meso-nh physics [9653]
  * SAMIO corrections [9819]
  * Fortran standard violation fix [10151]
  * Oulan corrections [9733:9734],[10156]
  * Syntax error fix in assimilation scripts [9966]
  * Makeup changes [9568:9569],[9578],[9688]
  * Platform configurations [9573],[9576],[9647],[9732],[9937],[10156],[10159]
  * New KNMI BUFR tables [9732]
  * Inline verification [9746]
  * New boundary strategy enda [9758]
  * gl corrections and updates [9763:9764],[9769],[9774],[10144:10145],[10161]
  * HARMONIE EPS corrections [9767]
  * Verification station list updates [9776],[10145]
  * 4DVAR namelist updates [9968]
  * Correct usage of LSMIXBC when PHYSICS=arome [10095]

 * The version is available at ECMWF as
{{{
  ecgate:/home/ms/spsehlam/hlam/harmonie_release/tags/harmonie-36h1.4.bf1
}}}
 * The full set of compiled libraries for are found under
{{{
     /ms_perm/hirlam/harmonie/pack/36h1_bf1.04.XLF120100000003.x   for gmkpack
     /ms_perm/hirlam/harmonie/precompiled/36h1.4.bf1               for makeup 
}}} 
 * he code can be fetched from our repository:

{{{
   svn co https://svn.hirlam.org/tags/harmonie-36h1.4.bf1
}}}

 or downloaded from
{{{
  https://hirlam.org/portal/download/harmonie-36h1.4.bf1.tar.gz
}}}


== More about Harmonie-36h1 ==

See more detailed information about 36h1.3 and 36h1-code series in the [wiki:Harmonie_36h1 system wiki about Harmonie-36h1], e.g,
 * [wiki:Harmonie_36h1#SourcecodeandscriptupdatesinHarmonie-36h1 Recent source code and scripts updates in 36h1]
 * [wiki:Harmonie_36h1#ModelInstallationandExperimentConfiguration Installation guide and configuration options]
 * [wiki:Harmonie_36h1/ValidationTests Meteorological validation and preliminary observations ]
 * [wiki:Harmonie_36h1#TechnicalaspectswithHarmonie-36h1 Technical aspects about 36h1]
 * [wiki:Harmonie_36h1#Acknowledgements Acknowledgements]

 [[FootNote]]

----
[[Center(begin)]]
[[Color(red, Last modified on)]] [[LastModified]]
[[Center(end)]]

