[[PageOutline]]
[[Center(begin)]]
= '''PGD''' =

Last modified [[LastModified]]
[[Center(end)]]


The purpose of this page is to be an umbrella for all documentation on
physiography data (PGD) used by our models. 

== Land cover ==

'''ECOCLIMAP-I/II'''


'''LAI'''

Leaf area index (LAI) is one of the primary parameters that is set
for the vegetation patches of cover tiles. The LAI values are given
in the ECOCLIMAP ascii files (dat):

 ls eco*.dat
 ecoclimapII_af_covers_param.dat  ecoclimapII_eu_covers_param.dat  ecoclimapI_covers_param.dat

Here is for example the LAI definiton for the grassland patch of cover 349 NORTH RUSSIA TUNDRA1:

 COVER 349 
  FRACTION   Town Nature  Water    Sea
       349   0.00   1.00   0.00   0.00
  FRACTION     No   Rock   Snow   Tree   Coni   Ever     C3     C4    Irr   Gras   Trog   Park
       349   0.04   0.08   0.00   0.02   0.00   0.00   0.00   0.00   0.00   0.86   0.00   0.00
 ...
             LAI  YEAR 2006 (36 10-day periods)
                      Jan         Feb         Mar         Apr
       305   Gras 0.5 0.5 0.6 0.8 0.8 0.8 0.9 1.0 1.2 1.5 1.8 2.0
                      May         Jun         Jul         Aug
       305   Gras 2.6 3.1 3.5 3.9 4.1 4.3 4.3 4.2 4.1 4.0 3.8 3.7
                      Sep         Oct         Nov         Dec
       305   Gras 3.5 3.3 3.1 2.9 2.7 2.4 2.0 1.6 1.2 1.0 0.8 0.8

Here we can see the seasonal cycle of the Grassland, but this cover type is 4% Bare land, 8% Rock, 2% Trees
and 86% Grassland. This example also shows one of the problems with ECOCLIMAP LAI values, i.e. they are
often way to high! LAI values for grassland in N-Russia tundra areas should not be over 4 in summer.

'''ECOCLIMAP-SG'''

''' Implementation of Irish dataset into ECOCLIMAP-SG'''
[https://github.com/gbessardon/national_land_cover_conversion]
== Soil ==

'''FAO'''

'''HWSD'''

'''SoilGrids'''

'''Implementation of Irish soil data into Soilgrid '''
[https://github.com/gbessardon/National-soil-data]

== Topography ==

'''GTOPO30'''

'''GMTED2010'''

== Regional, non-global, physiography data == 

For some model domains regional, non-global, data bases are used to replace global data bases. [wiki:PGD/Regional_Data_Sets Here is a list of such data.]

== Tools ==

'''QGIS'''

QGIS ( http://qgis.org ) is a great window application for working with GIS
data. 


'''GDAL'''

GDAL ( http://gdal.org ) and GDAL for Python (
https://pypi.python.org/pypi/GDAL ) both includes alot of great command-line
tools to work with GIS data and scripting in Python.


'''GRASS GIS'''


'''How to open PGD databases in QGIS/GDAL:''' 

The current database files are in binary format with .dir ending and
corresponding header (.hdr) file with it that's used to read them in Fortran.

You should copy the .hdr file to .hdr_old and then create new .hdr files:

1) ECOCLIMAP_II_EUROP_V*.hdr:
{{{
    nrows 21600
    ncols 43200
    nodata 0
    nbands 1
    nbits 16
    ULXMAP        -179.99583333333334
    ULYMAP        89.99583333333334
    XDIM          0.00833333333333
    YDIM          0.00833333333333
}}}

2) CLAY_HWSD_MOY_v2.hdr (and also SAND_HWSD_MOY_v2.hdr):
{{{
    nrows 21600
    ncols 43200
    nodata 255
    nbands 1
    nbits 8
    ULXMAP        -179.99583333333334
    ULYMAP        89.99583333333334
    XDIM          0.00833333333333
    YDIM          0.00833333333333
}}}

3) ecosg_final_map.dir (ECOCLIMAP-SG):
{{{
    nrows 64800
    ncols 129600
    nodata 0
    nbands 1
    nbits 8
    ULXMAP     -179.99861111111111
    ULYMAP       89.99861111111111
    XDIM          0.00277777777777
    YDIM          0.00277777777777
}}}


'''Howto edit one pixel directly in QGIS:'''

After you have the right header file (see above) you can open the database in
QGIS:

{{{
    qgis ECOCLIMAP_II_EUROP_V2.3.dir
}}}

Then you should go to Plugins -> Manage and install plugins and search for
Serval (https://github.com/erpas/serval/wiki). With it you can directly change
one pixel to a new cover number. N.b. works only in version 2 of QGIS now,
since version 3 is still missing alot of the plugins (okt. 2018).


== File formats ==

'''ASCLLV:'''

This format is available to read in different parameters in PGD and even PREP step. The format is ASCII text and the format is: "Latitute Longitude Value"

Example:

{{{
66.565750 -18.022559 1.5
66.562146 -18.015351 2.0
66.556740 -18.011747 2.5
}}}
