[[PageOutline]]
[[Center(begin)]]
== '''HIRLAM 7.1 Evaluation and Technical Test''' ==
[[LastModified]]
[[Center(end)]]

== Meteorological Evaluation of Hirlam 7.1 ==

=== Evaluation of 7.1.2 vs 7.1.1 vs 7.1 ===

||Model versions for parallel comparison || experiment domain || main configuration differences  || computer platform|| tested episode || verification || testers ||  notes ||
|| 7.1 vs 7.1.1 vs 7.1.2 || RCR 7.1 || bug correction on selection of moist CBR (7.1.2); bug correction on cloud ice in radiation (7.1.1)|| HPCE || [http://hirlam.org/portal/validation/7.1/7107117120702.png Key parameters] and [http://hirlam.org/portal/validation/7.1/rain710711712_200702.txt rain] in Feb 2007,[http://hirlam.org/portal/validation/7.1/7107117120608.png Key parameters ]  and [http://hirlam.org/portal/validation/7.1/rain710711712_200608.txt rain] in July 25-Aug 24 2006 ]|| EWGLAM OBS [[FootNote(with HIRVDA package)]] ||  Xiaohua Yang  || pre-release validation test of 7.1.2 and 7.1.1[[FootNote(no ATOVS data used)]] ||

=== Evaluation of 7.1 for historical episodes ===

||Model versions for parallel comparison || experiment domain || main configuration differences  || computer platform|| tested episode || verification || testers ||  notes ||
|| 7.0.1 [[FootNote(3DVAR, 3h cycling)]] vs 7.1 rc 2 [[FootNote(3DVAR, 6h cycling)]] || RCR 7.0 || nonsep vs statbal strfun; physics; 3h vs 6 h cycling || HPCE ||  [http://hirlam.org/portal/validation/7.1/70171.html Jan, June 2006, Feb 2007 ] || EWGLAM OBS including Precipitation [[FootNote(with HIRVDA package)]] ||  Xiaohua Yang  || test 7.1 rc 2 with RCR 7.0 domain||
|| 7.0 [[FootNote(3DVAR, 3h cycling)]] vs 7.1 alpha3 [[FootNote(3DVAR, 6h cycling)]] || RCR 7.0 vs RCR 7.1 [[FootNote(582x448x60)]] || resolution; nonsep vs statbal strfun; physics; 3h vs 6 h cycling || HPCE ||  [http://hirlam.org/portal/validation/7.1/701L71.html Jan, March, June, October 2006 ] || EWGLAM OBS including Precipitation [[FootNote(with HIRVDA package)]] ||  Xiaohua Yang  || test reduced version of 7.1 ||
|| 7.0 [[FootNote(3DVAR, 3h cycling)]] vs 7.1 alpha3 [[FootNote(4DVAR, 6h cycling)]] || RCR 7.0 || resolution; 3DVAR vs 4DVAR; nonsep vs statbal strfun; physics || HPCE ||  [http://hirlam.org/portal/validation/7.1/701713.html Jan, March, June, October 2006] || EWGLAM OBS including Precipitation [[FootNote(with HIRVDA package)]] ||  Xiaohua Yang, Kalle Eerola || test 7.1 alpha3 ||
|| 7.0 [[FootNote(3h cycling)]] vs 7.1 beta 2 [[FootNote(6h cycling)]] || RCR 7.0  vs RCR 7.1|| resolution; nonsep vs statbal strfun; physics || HPCE ||  [http://hirlam.org/portal/validation/7.1/701713712.html Jan and June 2006] || EWGLAM OBS including Precipitation [[FootNote(with HIRVDA package)]] ||  Xiaohua Yang || test 7.1 beta 2 ||


 [[FootNote]]

=== Code Evaluation ===

 * Evaluation of changes in resolution and structure function

||Model versions for parallel comparison || experiment domain || main configuration differences  || computer platform|| tested episode || verification || testers ||  notes ||
|| 7.0 || RCR 7.0 vs RCR 7.1 [[FootNote(582x448x60)]] || resolution; nonsep vs statbal strfun; 3h vs 6 h cycling || HPCD ||  [http://hirlam.org/portal/validation/7.1/RCR360.html Oct 2005, March, May and July 2006 ] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Nils Gustafsson, Xiaohua Yang, Jana Sanchez, Magnus Lindskog || intermediate step to derive new structure function  ||
|| 7.0 || RCR 7.1 [[FootNote(582x448x60)]] vs RCR 7.0 with 60 levels || resolution; statbal strfun change || HPCD ||  [http://hirlam.org/portal/validation/7.1/360T62.html Oct 2005, March, May and July 2006 ] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Nils Gustafsson, Xiaohua Yang, Jana Sanchez, Magnus Lindskog || changes in structure function and horizontal resolution  ||

 [[FootNote]]

 * Evaluation of 4D-VAR

|| 7.0 || SMHI C22 || 3DVAR vs 4DVAR || Linux Cluster ||  [http://hirlam.org/portal/validation/7.1/3dv4dv.html April 2004, Jan 2005, June 2005, Jan 2006 ] || EWGLAM OBS [[FootNote(with SMHI package)]] || Nils Gustafsson || 4DVAR evaluation  ||

|| 7.0 || RCR 7.0 with 60 level || 3DVAR vs 4DVAR || HPCD || [http://hirlam.org/portal/validation/7.1/T62F62.html Oct 2005, March, Mat and July 2006 ] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Nils Gustafsson, Xiaohua Yang, Jana Sanchez, Magnus Lindskog || 4DVAR evaluation  ||

 [[FootNote]]

 * Evaluation of changes in physics components

|| 7.0 || RCR 7.0 || F90 version of physics || HPCD || Jan 2006, June 2006 || EWGLAM OBS [[FootNote(with reference package)]] || Bent Hansen Sass  || Physics evaluation  ||

|| 7.1 alpha 3 vs test version || RCR 7.0 || F90 version of physics || HPCE ||[http://hirlam.org/portal/validation/7.1/713714.html Jan and June 2006] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Bent Hansen Sass  || Physics evaluation  ||
|| 7.0.1 vs 7.1 vs 7.1 beta 2 || RCR 7.0 || F90 version of physics || HPCE ||[http://hirlam.org/portal/validation/7.1/701713B30.html Jan and June 2006] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Bent Hansen Sass and Xiaohua Yang  || Physics evaluation  ||

 [[FootNote]]

 * Evaluation of new surface scheme

|| 7.1 alpha3 vs 7.1 alpha3newsnow || RCR 7.0 || surface scheme || HPCE ||[http://hirlam.org/portal/validation/7.1/71371S.html Jan, March, June and  October 2006 ] || EWGLAM OBS [[FootNote(with  HIRVDA + reference package)]] || Xiaohua Yang, Kalle Eerola  || Surface scheme evaluation  ||

 [[FootNote]]

 * Evaluation of minimisation scheme

|| 7.1 alpha2 vs 7.1 alpha3 || RCR 7.1 || M1QN3 vs CG || HPCE ||[http://hirlam.org/portal/validation/7.1/M1QN3CG.html  October 2005 ] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || Xiaohua Yang  || minimization scheme  ||
|| 7.1 alpha3 || RCR 7.0 || convergence criterion for CG || HPCE ||[http://hirlam.org/portal/validation/7.1/M1QN3CG.html  March 2006 ] || EWGLAM OBS [[FootNote(with  HIRVDA package )]] || Xiaohua Yang  || convergence criterion  ||

 * Evaluation of computer platform

|| 7.0 vs 7.0.1 || RCR 7.0 || SGI ATIX vs HPCE || FMI SGI-ATIX vs ECMWF HPCE ||[http://hirlam.org/portal/validation/7.1/RCR701.html  June and Oct 2006 ] || EWGLAM OBS [[FootNote(with HIRVDA package)]] || FMI, Xiaohua Yang  || platform dependence, input data  ||

 [[FootNote]]

=== Pre-operation parallel test ===

== Technical Evaluation ==

=== Tested architecture, model domains and components ===

||tested version|| model domain ||computer platform||testers||subject of tests||
|| 7.0|| SMHI-C22[[FootNote(306x306x40)]]|| Linux Cluster || Nils Gustafsson ||  3D-VAR, 4D-VAR[[FootNote(with no LSMIX)]] ||
|| 7.0stable || RCR-7.1[[FootNote(582x448x60)]] ||HPCD || Xiaohua Yang, Nils Gustafsson ||  3D-VAR, 4D-VAR ||
|| 7.0stable || RCR-7.1[[FootNote(438x336x60)]] ||HPCD || Xiaohua Yang, Nils Gustafsson, Magnus Lindskog, Jana Sanchez, Ole Vignes || 3D-VAR, 4D-VAR ||
|| 7.0stable || RCR-7.0[[FootNote(438x336x40)]] ||HPCD || Xiaohua Yang, Ole Vignes || 3D-VAR, 4D-VAR ||
|| 7.0stable || RCR-7.0[[FootNote(438x336x40)]]|| HPCD || Bent Hansen Sass, Xiaohua Yang || moist CBR + STRACO in F90 ||
|| 7.0stable || RCR-7.0[[FootNote(438x336x40)]]|| HPCD || Stefan Golvik, Maria Diez, Sander Tijm, Xiaohua Yang, Kalle Eerola, Laura Rontu|| surface scheme ||
|| 7.0stable || RCR-7.0[[FootNote(438x336x40)]]|| HPCD || Laura Rontu || radiation in F90 ||
|| 7.1 trunk (r4850)|| T166[[FootNote(166x130x40, 0.5 degree)]] || LinuxPC[[FootNote(HP zv6025A, 2 GHz Athlon 64, 512 Mbyte RAM, 1.5 Gbyte SWAP)]] || Toon Moene || technical test ||
|| 7.1 beta2 || T166 || LinuxPC || Toon Moene || technical test ||
|| 7.1 rc 2 || T166 || LinuxPC || Toon Moene || technical test ||
|| 7.1 beta3 || T32[[FootNote(32x32x40)]] || LinuxPc[[FootNote(Dell latitude D410)]]||Xiaohua Yang||  technical test ||
|| 7.1 alpha3 || RCR-7.0, RCR-7.1 ||HPCE || Xiaohua Yang||  technical test ||
|| 7.1 beta3 || RCR-7.1 ||HPCE || Xiaohua Yang, Kai Sattler||  validation test ||
|| 7.1 rc 1 || RCR-7.1 ||SGI-ALTIX || Niko Sokka, Kalle Eerola ||  beta-suite and validation ||
|| 7.1 rc 2 || RCR-7.1 ||HPCE || Xiaohua Yang and Kalle Eerola ||  technical test ||
|| 7.1 beta2 || DMI-T10[[FootNote(906x850x60)]] ||HPCE || Xiaohua Yang||  technical test ||
|| 7.1 alpha2newsnow || RCR-7.0[[FootNote(438x336x40)]] ||HPCE || Xiaohua Yang||  technical test ||
|| 7.1.1 || RCR-7.1 ||HPCE || Xiaohua Yang||  technical test ||
|| 7.1.2 || RCR-7.1 ||HPCE || Xiaohua Yang||  technical test ||

 [[FootNote]]

=== Computation cost === 

'''3D-VAR'''

||model domain||tested 7.1 versions ||platform||nr of node,processors||plen||elapsed time||HPC billing unit||
||RCR 7.0 || 7.1alpha1 || HPCE || 2,16,32|| 7e5|| 79s || 9||
||RCR 7.1 || 7.1alpha3 || HPCE || 2,16,32|| 7e5|| 310-390s || 35-45||
||RCR 7.1 || 7.1.2 || HPCE || 2,16,32|| 7e5|| 300-380s || 30-44||
||RCR 7.1 || 7.1.5 || C1A || 2,32,64|| 7e5|| 200s || 76 ||
||T166 || 7.1beta2 || LinuxPC || 1,1,1 || 5e6[[FootNote(nobsh_local=40000,nobsh_hi=40000)]] || 1630-2300s (43-45 iterations)[[FootNote(FCINT=6)]]1224-1460s (43-46 iterations)[[FootNote(FCINT=3)]] || - ||
||T166 || 7.1rc2 || LinuxPC || 1,1,1 || 2e7[[FootNote(Standard value from VARinput)]] || 2000-2400s (47-51 iterations)[[FootNote(FCINT=6)]]1570-2170s (43-44 iterations)[[FootNote(FCINT=3)]]|| - ||



 [[FootNote]]

[[BR]]

'''4D-VAR'''

||domain||tested 7.1 release||platform||simplified phys||structure function||resolution||nr of node,processors||plen||my_shared_memory||elapsed time||HPC billing unit||
||T32[[FootNote(32x32x40)]]||7.1alpha1||LinuxPC[[FootNote(Dell latitude D410)]]||?||statistical||1/2||1,1,1||1e8||-||625s||-||
||T166||7.1 trunk (r4850)||LinuxPC||MFSP1||statistical||1/3||1,1,1|| 4e6[[FootNote(nobsh_local=40000,nobsh_hi=40000)]]||-||4782-4941s (63-65 iterations)||-||
||T166||7.1beta2||LinuxPC||MFSP1||statistical||1/3||1,1,1|| 5e6[[FootNote(nobsh_local=40000,nobsh_hi=40000)]]||-||4274-4434s (60 iters, 61-63 cost fn evals)||-||
||T166||7.1rc2||LinuxPC||MFSP1||statistical||1/3||1,1,1|| 2e7[[FootNote(Standard value from VARinput)]]||-||3250-3460s (57-60 iters, 60-62 cost fn evals)||-||
||RCR 7.0||7.1alpha1||HPCD||MFSP1||statistical||1/3||1,32,32||7e5||yes||1616s||110||
||RCR 7.0||7.1alpha1||HPCE||MFSP1||statistical||1/3||2,16,32||7e5||yes||979s||114||
||RCR 7.0||7.1alpha2||HPCD||MFSP1||statistical||1/3||1,32,32||7e5||yes||1562s||106||
||RCR 7.0||7.1alpha2||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||1026s||179||
||RCR 7.0||7.1alpha2newsnow||HPCD||MFSP1||statistical||1/3||1,32,32||7e5||yes||2247s||152||
||RCR 7.0||7.1alpha2newsnow||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||1054s||183||
||RCR 7.0||7.1alpha3[[FootNote(using Conjugate Gradient minimization)]]||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||615s||108||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||2,15,30||7e5||yes||1354s||157||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||2,16,32||7e5||yes||1232s||143||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||2,16,32||7e5||no||1706s||198||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||2,30,60||7e5||yes||1566s||182||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||2,30,60||7e5||no||2279s||265||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||3,16,48||7e5||yes||1120s||195||
||RCR 7.1||7.0stable[[FootNote(with modification)]]||HPCE||BUIZZA||statistical||1/3||4,16,48||7e5||yes ||1058s||245||
||RCR 7.1||7.1alpha1[[FootNote(trunk 20061013)]]||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||2375s||413||
||RCR 7.1||7.1alpha2||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||1970-2126s||350-370||
||RCR 7.1||7.1alpha3[[FootNote(using Conjugate Gradient minimization)]]||HPCE||MFSP1||statistical||1/3||3,16,48||4e5||yes||1200-1400s||220-250||
||DMI G45[[FootNote(202x190x40)]]||7.1beta2||HPCE||MFSP1[[FootNote(time stepping 30 min)]]||statistical||1/3||3,16,48||7e5||yes||286s[[FootNote(maximum iteration 49)]]||50||
||DMI T15[[FootNote(610x568x40)]]||7.1beta2||HPCE||MFSP1[[FootNote(time stepping 30 min)]]||statistical||1/3||3,16,48||7e5||yes||1107s[[FootNote(maximum iteration 49)]]||193||
||DMI T10[[FootNote(906x850x60)]]||7.1beta2||HPCE||BUIZZA[[FootNote(time stepping 20 min)]]||statistical||1/3||6,16,96||7e5||yes||3445s[[FootNote(maximum iteration 60)]]||1200||
||DMI T10[[FootNote(906x850x60)]]||7.1beta2||HPCE||MFSP1[[FootNote(time stepping 20 min)]]||statistical||1/3||6,16,96||7e5||yes||3944s[[FootNote(maximum iteration 60)]]||1373||

 [[FootNote]]

[[BR]]

'''Forecast'''

||domain||tested 7.0 release||platform||nr of nodes|| task per node || my_shared_mem || nprocx||nprocy||ncpu_hgs||nhalo||time step||elapsed time per step||48 h Forecast elapsed time||HPC Billing cost||
||T32[[FootNote(32x32x40)]]||7.1alpha1||LinuxPC[[FootNote(Dell latitude D410)]]||1||1 || - || 1||1||0||6||900s||1.1s||267s||-||
||T166||7.1 trunk (r4850)||LinuxPC||1||1||-||1||1||0||6||900s||16.4s||3260s||-||
||T166||7.1beta2||LinuxPC||1||1||-||1||1||0||8||900s||16.2s||3140s[[FootNote(without DFI (4DVAR run))]]3560s[[FootNote(with IDFI (3DVAR run))]]||-||
||T166||7.1rc2||LinuxPC||1||1||-||1||1||0||8||900s||16.4s||3230s[[FootNote(without DFI (4DVAR run))]]3700s[[FootNote(with IDFI (3DVAR run))]]||-||
||RCR 7.0||7.1alpha1||HPCD||2||32 || yes || 7||9||1||6||450s||1.6s||669s||91||
||RCR 7.0||7.1alpha1||HPCE||4||30 || yes || 7||17||1||6||450s||0.5s||442s||102||
||RCR 7.0||7.1alpha2||HPCD||2||32 || yes || 7||9||2||6||450s||1.5s||652s||88||
||RCR 7.0||7.1alpha2||HPCE||3||30 || yes || 8||11||2||6||450s||0.6-1.3s||562s||98||
||RCR 7.0||7.1alpha2newsnow||HPCD||2||32 || yes || 7||9||1||6||450s||1.7s||701s||96||
||RCR 7.0||7.1alpha2newsnow||HPCE||3||30 || yes || 8||11||2||6||450s||0.75s||619s||108||
||RCR 7.0||7.1alpha3||HPCE||3||30 || yes || 8||11||2||6||450s||0.6s||506s||88||
||RCR 7.1||7.0stable||HPCE||2||16 || yes || 4||8||0||6||360s||3.7-8.4s||3473s||403||
||RCR 7.1||7.0stable||HPCE||2||16 || no || 4||8||0||6||360s||4.6-8.6s||3523s||409||
||RCR 7.1||7.0stable||HPCE||2||30 || yes ||6||10||0||6||360s||2.5s||2305s||268||
||RCR 7.1||7.0stable||HPCE||2||30 || no || 6||10||0||6||360s||2.5s||2304s||267||
||RCR 7.1||7.0stable||HPCE||3||30 || yes ||9||10||0||6||360s||1.7s||1672s||291||
||RCR 7.1||7.0stable||HPCE||4||30 || yes || 10||12||0||6||360s||1.3s||1392s||323||
||RCR 7.1||7.1alpha1[[FootNote(trunk 20061013)]]||HPCE||4||30 || yes || 7||17||1||6||360s||1.36s||1390s||324||
||RCR 7.1||7.1alpha2||HPCE||4||30 || yes || 7||17||1||6||360s||1.34s||1357s||315||
||RCR 7.1||7.1.1/7.1.2||HPCE||3||30 || yes || 8||11||2||6||360s||1.6s||1560-1770s||276-308||
||RCR 7.1||7.1.5||C1A||2||62 || yes || 8||15||4||6||360s||0.7s||820s||300||
||DMI G45 [[FootNote(202x190x40)]] ||7.1beta2||HPCE||3||30 || yes || 8||11||2||8||450s||0.17s||123s||21||
||DMI T15 [[FootNote(610x568x40)]] ||7.1beta2||HPCE||3||30 || yes || 8||11||2||8||450s||1.5s||1219s||212||
||DMI T10 [[FootNote(906x850x60)]] ||7.1beta2||HPCE||5||30 || yes || 5||19||5||8||300s||8.5s||5017s||1455||

 [[FootNote]]

[[BR]]

== Other information about Hirlam 7.1 ==

Information about other aspects of Hirlam 7.1 can be found in [wiki:Hirlam_7.1 Hirlam 7.1]

----
[[Center(begin)]]
[[Color(red, Last modified on)]] [[LastModified]]
[[Center(end)]]