[[PageOutline]]
[[Center(begin)]]
= '''Release notes of HIRLAM 7.1 beta 3''' =
[[LastModified]]
[[Center(end)]]

== Highlights of Hirlam 7.1 beta 3 ==

Hirlam 7.1 beta 3 is the third and last beta release for [wiki:Hirlam_7.1 Hirlam 7.1]. The system contains following improvement over the previously released trial versions in [wiki:Hirlam_7.1 Hirlam 7.1] series:
 * A further improvement in physical parameterization, mainly the tuning of condensation scheme STRACO and optional Kain-Fritsch/Rasch Kristiansen scheme. The modification in STRACO corrects the tendency for over precipitation, especially that during winter seasons, as seen in the previous versions. 
 * A further extended post-processing module to enable computation of visibility and screen level wind and temperature maxima/minima.
 * An extension of scripts for (optional) ensemble generation of HIRLAM EPS
 * An (optional) Semi-lagrangian SETTLS advection scheme
 * An improved flexibility for forecast model output stream and new structure for archiving strategy. The changes are necessitated in view of the challenges associated with increased model resolution and limitation in file transfer and storage capacities at both operational and ECMWF platforms.
 * An enhancement of graphic tools for visualization of verification 
 * Other technical improvements in code and system

== Description of the code and script changes ==

The system 7.1 beta 3 is an updated version of the code development branch, hirlam-7.1 with
[log:branches/hirlam-7.1#4908:4952 code modifications] over that of the previously tagged version  [wiki:ReleaseNotes7.1beta2 beta 2]. The main changes include:
 * Further STRACO tuning ([4937], Sass) with the aim to improve humidity balance. 
    * precipitation release at very low temperatures 
    * a threshold factor affecting the relative treatment of precipitation release over ocean and land. 
 * Tuning of the optional Kain Fritsch Rasch Kristiansen condensation scheme ([4929], Ivarsson)
   * Adjustments of the cloud micro-physic in order to get lower amounts of low clouds in case of cold winter conditions, to reduce the frequency of small precipitation amounts and to get a better mountain-shadow effect in the precipitation field. Also some changes have been done the reduce the noise in the cirrus cloud field that may occur in jet streams. 
   * The cooling effect of melting snow is included, and the evaporation of precipitation is changed in order to better account for the different physical properties between rain and snow. 
   * The critical relative humidity is adjusted in order to reduce the negative humidity bias in the middle of the troposphere, and a positive bias of middle level clouds. 
 * The first HIRLAM ensemble forecast generation scripts version ([4941], Sattler), which defines the default experimental model domain 'GLAMEPS' with a grid-mesh of 306x260x40 at a horizontal resolution of 0.2 degrees. The scripts
   * add settings for ensemble member specific environment
   * support use of online ECMWF-EPS boundaries [[FootNote(Note, however, that at ECMWF, observation data is not available online. It is first available after about two days.)]]
   * enable 3D-VAR analysis in control run 
   * allow random selection of convection/condensation schemes between STRACO and KF-RK schemes for the perturbed members 
 * Addition of the (optional) Semi-lagrangian SETTLS advection scheme (Stable Extrapolation Two-Time-Levels Scheme) based on the implementation at DMI operational system, as reported in [http://hirlam.org/open/publications/NewsLetters/48/43_KLi_hir.pdf Lindberg, 2005]([4936], Yang);
   * SETTLS scheme can be activated through variable LSETTLS in Env_expdesc
 * Further extension of the post-processing stream ([4913], Tijm) to include calculation of visibility and screen-level surface wind and temperature maxima/minima, based on the original versions implemented in the DMI operational versions.
 * An enhanced flexibility for specification of forecast output stream ([4948], Sattler and Yang), with addition of templates for several new output stream for lateral boundary data (bd), model inter-comparison data (mi), model diagnostics data (di) etc ([4939], Eerola, Rontu and Sokka). In the reference configuration, the system now produce following main data sets: 
   * history files needed for cycling
   * verification results ('ve' files) containing constant pressure levels fields and a set of surface fields. 
   * surface and diagnostic results ('md' files)  
   * In addition, more special output streams as defined by templates in the script FCinput can be defined: 
     * mi: small area of selected surface and constant pressure level parameters 
     * bd: boundary file, sfc + model level 
     * di: model diagnostics, (sfc) + model level 
     * zz: interpolated to height levels, (sfc) + z level NOT YET AVAILABLE 
     * th: interpolated to isentropic levels, (sfc) + theta level NOT YET AVAILABLE. 
   * Output streams are configured in Env_expdesc for variable OUTSTREAM
 * An enhanced flexibility for choice of archive strategy, '''ARSTRATEGY'''([4948], Sattler and Yang)
   * minimum: archive only log files and verification results
   * medium (default): archive in addition the unprocessed input data (boundary data *.mars and observation data), md files and data needed for initiating next data assimilation cycles.
   * maximum data: archive practcally all data generated during assimilation cycling included interpolated boundary data
 * An enhanced graphical tools for presentation of verification results produced by the reference verification ([4930], Eerola). The module can now generate the following new graphical outputs: 
   * Time series of daily verification results against observations 
   * Geographical distribution of verifications scores against observations. This is done by plotting the scores on every observing station. At the moment this option does not yet work, but a fix will be provided soon.
   * Field verification results, where the forecast are compared to analysis. Note that field verification has to be activated during the cycling. By default it is not done. At the moment this option does not yet work, but a fix will be provided soon.
 * Other technical changes and improvement (Eerola, Sattler, Whelan, Wilhelmsson, Vignes, Yang et al)   
   * change boundary strategy variable name from STRATEGY to BDSTRATEGY
   * remove archiving of print-out during vertical boundary interpolation VINETA
   * Fix out-of-bound accesses in surface analysis span.x 
   * restore retrieval of pre-generated hl_bpf file from ECFS on ECMWF platform to reduce climate generation time
   * revive RCR_parallel boundary strategy
   * removal of obsolete scripts

The description of new features in the previous releases for Hirlam 7.1, can be found in release notes for Hirlam 7.1 [wiki:ReleaseNotes7.1alpha1 alpha 1], [wiki:ReleaseNotes7.1alpha2 alpha 2], [wiki:ReleaseNotes7.1alpha3 alpha 3], [wiki:ReleaseNotes7.1beta1 beta 1] and [wiki:ReleaseNotes7.1beta2 beta 2], respectively.

[[FootNote]]

== Meteorological and Technical Evaluations,  Outstanding problems, bugs ==

See wiki page for [wiki:Hirlam_7.1 Hirlam 7.1]

== How to run Hirlam 7.1 beta 3 ==

Please note that starting with Hirlam-7.1 beta 3, several changes to the environment setting for HIRLAM experiment have been introduced, mainly in the configuration script Env_expdesc:
 * '''OUTSTREAM''' is introduced to enable specification of forecast output stream in Env_expdesc according to templates specified in FCinput
 * Boundary data strategy '''STRATEGY''' is changed to '''BDSTRATEGY'''
 * Three level archive strategies '''ARSTRATEGY''', (minimum, medium and maximum), mainly for ECMWF-platform, is introduced.

For information on further details, see instructions on wiki page for [wiki:Hirlam_7.1 Hirlam 7.1]
