[[PageOutline]]
[[Center(begin)]]
= '''Reports on surface activities March 2017''' =

Last modified [[LastModified]]

[[Center(end)]]

== Status with respect to Rolling Work Plan for Surface analysis and modelling ==

> '''Status notes are indicated like this.'''

=== SU1: Introduce and assess more advanced data assimilation algorithms in SODA framework ===

 * Develop/assess EKF for soil and snow using SYNOP data in combination with the Force-restore soil and the new Explicit Snow (ES) scheme.
   * Priority: High. Staff: Mariken Homleid (1pm, !MetCoOp*), Karl-Ivar Ivarsson (1pm), Patrick Samuelsson (0.5pm, !MetCoOp*), Magnus Lindskog (IMPREX*), Trygve Aspelien (NVE Avalanche project*)
   > For a winter period Mariken runs 2 patches (reference/no SBL scheme/2 patches), similar to what she did for a spring period.
   >
   > For a winter period Mariken runs explicit snow scheme, running with no surface assimilation and compared to a reference run with no surface assimilation.
   >
   > Patrick has started with replacing OI with SEKF in cy40h experiments. He is also ready to provide the 2-patches development to the trunk for implementation into cy40h1.2
 * Start assessment of MESCAN versus CANARI, and investigate sensitivity of anisotropic horizontal/vertical structure functions.
   * Priority: High. Staff: Mariken Homleid (0.5pm) 
   > For a winter period Mariken runs MESCAN (reference/no surface assimilation/mescan)
 * Further develop snow analysis and assimilation of snow in CANARI/MESCAN/SODA.
   * Priority: High. Staff: Ekaterina Kurzeneva (3pm, !MetCoOp*)
   > No activity yet.
 * Develop/assess EKF for sea ice, using satellite products in combination with the SICE scheme. 
   * Priority: Low. Staff: Bin Cheng (INTAROS*, TWASE*), Yurii Batrak (PhD work*)
   > No activity yet.

=== SU2: Introduce and assess new surface observations ===

 * Identify retrieval products (satellite/instrument) to use for each model variable ([wiki:Surface_physis_assimilation/Satellite_list Satellite list]), with a main  focus on soil moisture, snow cover, snow water equivalent and sea ice cover. Implement product reading/processing in CANARI/MESCAN or in parallel and connect each product to a corresponding SURFEX variable in the SODA/EKF framework (see SU1):
   * Snow extent satellite products
	* Priority: High. Staff: Ekaterina Kurzeneva (1pm)
        > Katya and Patrick visit a COST Action Workshop on Snow Data Assimilation, Offenbach, March 8-9.
   * Sea-ice extent and sea-ice drift products.
	* Priority: Low. Staff: Yurii Batrak (PhD work*), Bin Cheng (INTAROS*, TWASE*)
        > No activity yet.

=== SU3: Explore and validate available SURFEX physics components: ===

 * Test and validate the behaviour of the full combination of DIF, ES and (MEB), with respect to the older soil and snow schemes, with focus on optimizing SURFEX options and parameter values. To start these experiments as soon as possible, use will be initially be made of Cy43 without data assimilation (i.e. in climate mode). Utilize a combination of offline SURFEX, MUSC, and the full 3D model depending on the type of study.
   * Priority: High. Staff: John de Vries (5pm), Samuel Viana (4pm), Nikolai Nawri (1pm, Icelandic external projects with snow focus ~4 pm*), Sigurdur Thorsteinsson (1pm), Trygve Aspelien (NVE Avalanche project*), Åsmund Bakketun (Master thesis at !MetNorway*)
   > Samuel Viana has started to look into the cy38h1.2 HARMONIE-AROME climate configuration to use it as a reference for upcoming corresponding cy43h tests.
   >
   > John de Vries says:
   >
   > A short run (1 week) with CISBA=DIF, CSNOW=3L, NPATCH=2 and no surface DA has been  made. The forcing I use for SURFEX-OFFLINE is 2D, for the Harmonie domain of the Netherlands, and is derived from the (GRIB) output of CY40h1_ISBASFX8. The data structure is the same as for the 1D forcing, just with more points. Forcing output is stored in netCDF. The settings I used in the simulations are CISBA=DIF, CSNOW=3-L, NPATCH=1, CPHOTO="NON", CSEA_ICE="NONE", no MEB or surface DA.
   >
   > Cy40 SURFEX-code including ISBAv8 has been used to create a SURFEX-OFFLINE package for 2D simulations. Python scripts have been developed to create 2D forcing. A small test set of forcing data has been produced. A running environment for multiple consecutive forcing files needs testing. Output from SURFEX_OFFLINE is being validated for NPATCH=1. I will contact Trygve to maybe coordinate the forcing generation under Harmonie:util/forcing.
   >
   > Evaluation tool for comparing model SSM-ET feedback strength with observations is in development.
   >
   > Fortran 2003 constructs in the SURFEX code for performing QSORT have been disabled because of portability issues with the gfortran compiler used at KNMI.
   >
   > Plans: (i) Meteorological evaluation of surface variables ASAP. (ii) Introduction of new code in SURFEX-OFFLINE for parameter sensitivity studies will commence in March. Introduction of the new code is needed for SURFEX calibration (in every grid point) and to perform simultaneous state and parameter estimation in DA. It is intended as a long-term contribution to SURFEX. I will contact Patrick Le Moigne on this. (iii) A six-month control run with Cy40 ISBAv8 and CISBA=DIF will start early March as part of an impact study and as base for 2D-forcing of SURFEX-OFFLINE. But I will migrate to CY43 ASAP.

 * Activate lake model FLake (without data assimilation).
   * Priority: high. Staff: Ekaterina Kurzeneva (2pm)
   > FLake is now ready to enter trunk as an option in cy40h1.2. Katya and Patrick currently run spring and autumn FLake experiments over the !MetCoOp domain. 
   >
   > Margarita Choulga has identified WMO stations located near to lakes. A list that will be used in Monitor for validation of near-lake conditions.

=== SU4: Further develop SURFEX surface model components ===

 * Further improve aspects of SICE as e.g. snow on ice, prognostic ice thickness and ice drift functionality.
   * Priority: high. Staff: Yurii Batrak (PhD work*), Bin Cheng (0.5pm)
   > Yurii and Bin met January 23 to discuss sea-ice development work. Please see [wiki:Surface_physis_assimilation/SURFEX-ice#Sea-icedevelopmentmeetingJanuary232017 summary and memory notes from the meeting on the sea-ice wiki page].
   >
   > Yurii says: I'm working on implementation of ice mass balance in a "HIGHTSI-way". First result from offline run along FMI02 trajectory [wiki:Surface_physis_assimilation/Surface_status_March_2017/offline.pdf are attached]. On the graph: red solid lines -- snow and ice thickness produced by SICE, default ISBA-ES configuration,  read dashed lines -- snow and ice thickness by SICE but with increased snow density (to match HIGHTSI's values of snow density),  green lines -- snow and ice thickness by HIGHTSI (it was run by Bin during our study for ASM-2016), black crosses -- snow and ice thickness derived from SIMBA buoy data.

 * Implementation of FLake modifications/developments into SURFEX repository based on what is currently done in cy40h. Includes modifications of PGD physiography averaging methods.
   * Priority: high. Staff: Ekaterina Kurzeneva (2pm)
   > No activity yet.
 * Develop a physically based glacier model for SURFEXv9.
   * Priority: high. Staff: Emily Gleeson (3pm), Bolli Palmason (1pm), Kristian Pagh Nielsen (0.5pm), Ruth Mottram (DMI, Greenland  ice-cap projects*)
   > Emily says: I've been trying out standalone surfex and testing various options. To progress, I need to figure out how to set up my own forcings (3D) over a glacier point. In parallel, I'm trying to get MUSC cycle 43 working which uses surfex 8. I'm more familiar with the MUSC environment and once set up, I hope to be able to test the glacier options using that.
 * Evaluate the orographic/radiation implementation in Cy43 and apply further modifications/ developments.
   * Priority: high. Staff: Laura Rontu (1pm)
   > No activity yet
 * Evaluate and further modify/develop parameterization of orographic momentum fluxes.
   * Priority: high. Staff: Laura Rontu (1pm)
   > No activity yet
 * Modification of the SURFEX parameterization of fractional snow in complex terrain.
   * Priority: medium. Staff: Laura Rontu (0.5pm)
   > No activity yet, even no plans

=== SU5: Assess and improve quality of surface characterization: ===

 * Document how MODIS LAI information should be processed to make validation possible for LAI fields over specific domains. Make a work plan for how to correct/adapt these fields where necessary, by either (i) modifying ECOCLIMAP physiography, (ii) implement diagnostic LAI and/or (iii) use STAEKF for updating LAI field locally.
   * Priority: high. Staff: Bolli Palmason (1pm), Jelena Bojarova (UERRA*)
   > No activity yet.
 * Evaluate/develop TEB specific parameters.
   * Priority: high. Staff: Ekaterina Kurzeneva (1pm)
   > No activity yet.
 * Coordinate efforts to critically evaluate currently used physiography and gather modifications for updated releases via the SURFEX team at Météo-France.
   * Priority: high. Staff: Patrick Samuelsson (coordination)
   > No activity yet.
 * Follow the Météo-France efforts in the ESA-CCI land cover map process and coordinate with relevant HIRLAM staff.
   * Priority: high. Staff: Patrick Samuelsson (coordination)
   > Updated work plan reported at SURFEX Users Workshop in Toulouse Feb 27 - March 1.

== Discussion points ==

 * Canari first guess is based on atmospheric files which means that Canari has no knowledge of SURFEX tiles/patches or variables which are not passed to the atmosphere. Modify Canari for 2-patches support. Magnus Lindskog (SMHI) heard from Jean-Francois Mahfouf that it was tricky to get Canari working in cy43t due to the fact that the OOPS implementation didn't involve Canari but affects it. In Toulouse Trygve and Jean-Francois agreed that Canari should be replaced. Tygve contacted ECMWF how they do it. They utilize ODB via IFS:ssa for surface spatialisation.

 * FMI cannot use SURFEX output now (e.g. snow) because their system Metview(?) does not support "funny" GRIB1 files (e.g. level=801 in SURFEX grib files). So, they wait for GRIB2 (via UERRA...)

 * Surface autumn meeting is discussed to be co-arranged with the LACE Data Assimilation Working Days (DAWD) which will take place in Ljubljana sometime during the week September 18-22. Further coordination with other constellations?

 * Margarita Choulga at Latvian Met Service is interested to coordinate physiography job for HIRLAM partners but Latvia is not a HIRLAM member. Hmhm, how to proceed?

 * Forcing files for SURFEX. (i) Trygve's solution under util/forcing (ii) John dV works on a Python solution. Needs coordination.

 * Forecasters at SMHI now complains again on U10m



== Plans of meetings ==

  * At the SURFEX Users Workshop, Feb 27-Feb 28 we had two side meetings. One dedicated to "Surface data assimilation" and one to "Glacier implementation into SURFEX"

  * March 14 afternoon 13:30-15:00 CET is booked for a Google Hangouts meeting on more advanced surface physics in SURFEX. Towards cy43/SURFEXv8: (i) Samuel (AEMET) using HARMONIE-AROME in climate mode. (ii) Mariken & Trygve use Explicit snow scheme in cy40h1.1 and in SURFEXv8 offline (iii) John dV runs cy40/ISBAv8 

  * Surface group spring meeting will probably be co-arranged in connection to the !MetCoOp working days which take place in Norrköping May 9-11.

  * Surface autumn meeting is discussed to be co-arranged with the LACE Data Assimilation Working Days (DAWD) which will take place in Ljubljana sometime during the week September 18-22. 




