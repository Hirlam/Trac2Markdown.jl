[[PageOutline]]
[[Center(begin)]]
= '''Harmonie system Documentation''' =
== '''Postprocessing with fullpos''' ==
[[LastModified]]
[[Center(end)]]
== Introduction

Fullpos is a postprocessing package, which is part of the 
common ARPEGE/IFS cycle. Fullpos is documented by [http://www.cnrm.meteo.fr/gmapdoc/spip.php?article17 El Khatib (2002)] and [http://www.cnrm.meteo.fr/gmapdoc/spip.php?article157 Yessad (2008)].

Fullpos is a full special configuration (9xx) when running the full model for setup and initialization. In other words it is a 0 hour forecast, with extra namelist settings for variables to process and to write out.

== setup ==
[source:tags/harmonie-36h1.4/scr/Postpp Postpp] script takes care about ''Fullpos'' postprocessing in HARMONIE system. [source:tags/harmonie-36h1.4/scr/Postpp Postpp] handles all the requested ''PPTYPE''s from one hour period. In case of hourly output and one ''PPTYPE'' only, Postpp executes ''Fullpos'' only once.

 * ''POSTP'' switch in [source:tags/harmonie-36h1.4/sms/config_exp.h config_exp.h] activates ''Fullpos''. 

 * POSTP options:
   * pp = pressure levels
   * md = model level diagnostics
   * zz = height levels
   * sat = satellite radiances (AROME)


 * Input data:   
   1. Forecast files ('''ICMSHHARM+*''') from directory ''WRK''.
   2. Climate files for both input and output geometry ('''m01''','''m02'''...'''m12'''). For now, postprocessing has been performed only  in the same forecast grid. Therefore input and output climate files are identical. 
   3. In case of satellite radiances (''PPTYPE''='''sat'''), ''Fullpos'' needs information from satellite coefficient files ('''rtcoef*.dat''' see e.g. [source:tags/harmonie-36h1.4/const/sat_const/rtcoef_noaa_17_amsua.dat rtcoef_noaa_17_amsua.dat]).
 *    Namelist: nam/namelist_pp 
 *  Executable: as defined by ''program''.
 * Output data: Postprocessed, spectral files ('''PFHARMALADIN+*[md|pp|zz|sat]''') are stored in ''ARCHIVE'' directory. If Makegrib="yes", they are also converted to grib.

=== Fullpos namelists ===

The current postprocessing switches in the HARMONIE system (in [source:tags/harmonie-36h1.4/sms/config_exp.h config_exp.h]) provide only very limited possibility to control the variety of the aspects in ''Fullpos''. Currently, in different ''PPTYPE'' modes parameter lists, postprocessed domain and requested levels are fixed in  [source:tags/harmonie-36h1.4/scr/Postpp Postpp].

In the ''Fullpos'' namelist '''NAMFPC''' (variables explained in [source:tags/harmonie-36h1.4/src/arp/module/yomfpc.F90 yomfpc.F90]), the variables are placed into different categories:

 * '''CFP3DF''' = names 3D dynamics fields to compute.
 * '''CFP2DF''' = names 2D dynamics fields to compute.
 * '''CFPPHY''' = names of physical fields to be postprocessed.
 * '''CFPXFU''' = names of instantaneous fluxes fields to be postproc.
 * '''CFPCFU''' = names of cumulated fluxes fields to be postproc.

Postprocessing can also be done in various type of levels:

 * '''RFP3P''' = postprocessing pressure levels
 * '''RFP3H''' = postprocessing height (above orography) levels.
 * '''RFP3TH''' = postprocessing potential temperature levels.
 * '''RFP3PV''' = postprocessing potential vorticity levels.

The default FA-names for parameters in different categories can be found from [source:tags/harmonie-36h1.4/src/arp/setup/suafn1.F90#L687 suafn1.F90]. The list of HARMONIE's output variables are  given also in [wiki:HarmonieSystemDocumentation/36h1.4/Forecast/Outputlist].



[[Center(begin)]]
[wiki:HarmonieSystemDocumentation Back to the main page of the HARMONIE System Documentation]
[[Center(end)]]
----
