[[PageOutline]]
[[Center(begin)]]
== '''Validation of HARMONIE-36h1.3''' ==

[[Center(end)]]

== Introduction ==
A coordinated validation of [wiki:Harmonie_36h1 harmonie-36h1] has been organised in HIRLAM-A with a primary view to enable release of the first official and '''quality assured''' HARMONIE forecast system, [wiki:ReleaseNotes36h1.3 36h1.3, targeted for tagging at the end of 2010]. According to the plan in HIRLAM-A, 36h1.3 shall include a set of default (baseline) configurations which defines an operationally feasible meso-scale forecast system including that of data assimilation. To address the requirement about quality-assurance, a series of validation experiments has been conducted for technical and meteorological evaluation, both by means of conventional observation verification inter-comparisons and by episode studies
== Validation experiments ==
First, a version of the HARMONIE trunk, changeset 8767, which is dated 13 Dec 2010, is made "frozen" through a reference installation at ECMWF computer platform, ecgate: ~nhz/harmonie_release/trunk876x. For conveneince, some minor scripts changes are made for the validation purpose. Using the frozen version, a series of experiments are launched with varying configurations for two selected month-long periods 2010010100-2010013118, a rather cold winter month in North Europe, and 2010080100-2010083118, which is characterised by several heavy rain episodes. The baseline experiments are defined for three model configurations using AROME, ALARO and ALADIN physics, all cycled with 3D-VAR and coupled to ECMWF forecasts,respectively
 * AROME: DENMARK domain at 2.5 km grid spacing and 65 vertical levels, 24 h forecast
 * ALADIN: SCANDINAVIA_5.5 domain with 5.5 km grid spacing and 60 levels, 36 h forecast
 * ALARO: SCANDINAVIA_5.5 domain with 5.5 km spacing and 60 levels, 36 h forecast

More than 10 colleagues from 5 member services volunteered to contribute to these validation runs and to examine results. In addition to base-line control scenarios, numerous alternative configurations have been made examine sensitivity on
 * domains (FINLAND, SCANDINAVIA)
 * vertical resolutions (using MF_60 and HIRLAM_60)
 * assimilation scheme (downscaling; surface analysis only; 4dvar with ALADIN)
 * physics & surface schemes (ALARO with surfex vs isba scheme)
 * latest trunk (879x, after merging of 36T1-bf9)
== Validation results ==
Observation verification inter-comparisons have been made to cross-compare HARMONIE validation runs with different configurations, and also relevant operational HIRLAM forecasts from DMI, FMI and SMHI. In addition, a short period with several extreme summer precipitation cases has been investigated to examine performance of the HARMONIE forecasts
=== Observation verification ===
Inter-comparison has been made to look for answers to following questions
 * How does AROME 3DVAR-runs compared to blending scenario and to non-cycled downscaling scenario (without any data assimilation)?
   * winter month 
     * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_noda_36h13_arome_36h13_arome_3dvar_201001" target="_blank"> AROME with no data assimilation (36h13_arome_noda); blending (36h13_arome) and 3DVAR (36h13_arome_3dvar), DENMARK domain </a>
}}}
     * AROME, 201001, FINLAND
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_noda_FIN_36h13_arome_FIN_36h13_arome_3dvar_FIN_201001" target="_blank"> AROME with no data assimilation (36h13_arome_noda)_FIN), blending (36h13_arome_FIN) and 3DVAR (36h13_arome_3dvar_FIN), FINLAND domain</a>
}}}
     * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_36h13_arome_3dvar_201001" target="_blank"> AROME with blending (36h13_arome) and 3DVAR (36h13_arome_3dvar), DENMARK domain </a>
}}}
   * summer month
     * AROME 201008, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_noda_36h13_arome_36h13_arome_3dvar_201008" target="_blank"> AROME with no data assimilation (36h13_arome_noda); blending (36h13_arome) and 3DVAR (36h13_arome_3dvar), DENMARK domain</a>
}}}
     * AROME, 201008, FINLAND
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_noda_FIN_36h13_arome_FIN_36h13_arome_3dvar_FIN_201008" target="_blank"> AROME with no data assimilation (36h13_arome_noda)_FIN), blending (36h13_arome_FIN) and 3DVAR (36h13_arome_3dvar_FIN), FINLAND domain</a>
}}}
     * AROME, 201008, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_36h13_arome_3dvar_201008" target="_blank"> AROME with blending (36h13_arome) and 3DVAR (36h13_arome_3dvar), DENMARK domain</a>
}}}
 * How does ALARO 3DVAR-runs compared to blending scenario?
   * winter month 
     * ALARO, 201001, SCANDINAVIA_5.5
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_36h13_alaro_3dvar_201001" target="_blank"> ALARO with blending (36h13_alaro) and 3DVAR (36h13_alaro_3dvar) </a>
}}}
   * summer month 
     * ALARO, 201008, SCANDINAVIA_5.5
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_36h13_alaro_3dvar_201008" target="_blank"> AROME with blending (36h13_alaro) and 3DVAR (36h13_alaro_3dvar) </a>
}}}
 * How does AROME, ALARO and ALADIN compare?
   * 201001, DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_36h13_alaro_3dvar_36h13_aladin_3dvar_201001" target="_blank">  AROME (36h13_arome_3dvar) vs ALARO (36h13_alaro_3dvar) vs ALADIN (36h13_aladin_3dvar), all with 3DVAR </a>
}}}
   * 201001, FINLAND domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_FIN_36h13_alaro_3dvar_36h13_aladin_3dvar_201001" target="_blank">  AROME (36h13_arome_3dvar) vs ALARO (36h13_alaro_3dvar) vs ALADIN (36h13_aladin_3dvar), all with 3DVAR </a>
}}}
   * 201008, DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_36h13_alaro_3dvar_36h13_aladin_3dvar_201008" target="_blank">  AROME (36h13_arome_3dvar) vs ALARO (36h13_alaro_3dvar) vs ALADIN (36h13_aladin_3dvar), all with 3DVAR </a>
}}}
   * 201008, FINLAND domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_FIN_36h13_alaro_3dvar_36h13_aladin_3dvar_201008" target="_blank">  AROME (36h13_arome_3dvar) vs ALARO (36h13_alaro_3dvar) vs ALADIN (36h13_aladin_3dvar), all with 3DVAR </a>
}}}
 * How does HARMONIE-AROME compared to operational, high resolution HIRLAM at similar resolution?
   * 201001,  DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_NEW_36h13_alaro_3dvar_36h13_aladin_3dvar_S03_SG05_201001" target="_blank">  AROME (36h13_arome_3dvar_NEW, 2.5 km) and ALARO (36h13_alaro_3dvar, 5.5 km), ALADIN (36h13_aladin_3dvar, 5.5 km) vs high resolution operational HIRLAM as S03 (DMI HIRLAM, 3.3 km) vs SG05 (SMHI HIRLAM, 5.5 km )</a>
}}}
   * 201008,  DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_NEW_36h13_alaro_3dvar_36h13_aladin_3dvar_S03_SG05_201008" target="_blank">  AROME (36h13_arome_3dvar_NEW, 2.5 km) and ALARO (36h13_alaro_3dvar, 5.5 km), ALADIN (36h13_aladin_3dvar, 5.5 km) vs high resolution operational HIRLAM as S03 (DMI HIRLAM, 3.3 km) vs SG05 (SMHI HIRLAM, 5.5 km )</a>
}}}
 * How does HARMONIE-ALADIN compared to operational HIRLAM at regional scales (ca 10 km)?
   * 201001, SCANDINAVIA domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_SCA_E11_M09_RCR_201001" target="_blank">  ALADIN (36h13_aladin_3dvar_SCA) vs operational HIRLAM as E11 (SMHI HIRLAM) vs M09 (DMI HIRLAM) vs RCR (FMI HIRLAM)</a>
}}}
   * 201008, SCANDINAVIA domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_SCA_E11_M09_RCR_201008" target="_blank">  ALADIN (36h13_aladin_3dvar_SCA) vs operational HIRLAM as E11 (SMHI HIRLAM) vs M09 (DMI HIRLAM) vs RCR (FMI HIRLAM)</a>
}}}
 * How does ALARO/ALADIN compare at 5.5 km?
   * 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_3dvar_36h13_aladin_3dvar_201001" target="_blank">  ALARO 3DVAR (36h13_alaro_3dvar) vs ALADIN 3DVAR (36h13_aladin_3dvar) </a>
}}}
   * 201008
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_3dvar_36h13_aladin_3dvar_201008" target="_blank">  ALARO 3DVAR (36h13_alaro_3dvar) vs ALADIN 3DVAR (36h13_aladin_3dvar) </a>
}}}
 * How does ALADIN runs compare with 5.5km vs 11 km resolutions?
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_36h13_aladin_3dvar_SCA_201001" target="_blank"> ALADIN-3DVAR on SCANDINAVIA_5.5 and on SCANDINAVIA </a>
}}}
   * ALADIN, 201008
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_36h13_aladin_3dvar_SCA_201008" target="_blank"> ALADIN-3DVAR on SCANDINAVIA_5.5 and on SCANDINAVIA </a>
}}}
 * How is sensitivity with surface scheme in ALARO model?
   * ALARO with surfex vs old-surface (isba), 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_3dvar_36h13_alaro_3dvar_old_201001" target="_blank"> ALARO-3DVAR (36h13_alaro_3dvar) with surfex vs old isba scheme </a>
}}}
 * How is sensitivity of vertical resolution with AROME/ALARO model?
   * AROME, 201008, DENMARK
{{{     
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_36h13_arome_mf60_201008" target="_blank"> AROME with blending (36h13_arome) with VLEV as 65 vs MF_60, DENMARK domain </a>
}}}
   * ALARO, 201001, SCANDINAVIA_5.5
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_alaro_36h13_alaro_mf60_201001" target="_blank">  ALARO blending (36h13_alaro) with HIRLAM_60 vs MF_60 </a>
}}}
 * How does 4D-VAR compared to 3D-VAR
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_SCA_36h13_aladin_4dvar_201001" target="_blank"> ALADIN-3DVAR vs ALADIN-4DVAR on SCANDINAVIA </a>
}}}
   * ALADIN, 201008
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_SCA_36h13_aladin_4dvar_201008" target="_blank"> ALADIN-3DVAR vs ALADIN-4DVAR on SCANDINAVIA </a>
}}}
 * Sensitivity due to source code update following implementation of 36T1-bf9
   * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_36h13_arome_3dvar_NEW201001" target="_blank"> AROME-3DVAR (36h13_arome_3dvar) vs 3DVAR-bf9 (36h13_arome_3dvar_NEW), DENMARK domain </a>
}}}
   * AROME, 201008, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_36h13_arome_3dvar_NEW201008" target="_blank"> AROME-3DVAR (36h13_arome_3dvar) vs 3DVAR-bf9 (36h13_arome_3dvar_NEW), DENMARK domain </a>
}}}
=== Episode studies ===
 * [http://www.dmi.dk/dmi/regnfuld_weekend_ramte_ved_siden_af 2010081421, "Copenhagen/North Zealand" case ]
|| "northsea" domain, AROME blending || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081400.gif 081400 ] || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081406.gif 081406 ] ||[https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081412.gif  081412 ] || 
|| "denmark" domain, AROME 3dvar, 36h1.3 || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081400.gif 081400 ] || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081406.gif 081406 ] ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081412.gif  081412 ] || 
|| "denmark" domain, AROME 3dvar, 36h1.3+, edkf || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar_c12010081400.gif 081400 ] || ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar_c12010081412.gif  081412 ] || 
|| "denmark" domain, AROME 3dvar, 36h1.3+, edmfm || [https://hirlam.org/portal/validation/36h1/case/arome_3dvar_edmfm2010081400.gif 081400 ] || ||[https://hirlam.org/portal/validation/36h1/case/arome_3dvar_edmfm2010081412.gif  081412 ] || 
|| "scandinavia_5.5" domain, ALARO 3dvar || [https://hirlam.org/portal/validation/36h1/case/alaro_3dvar2010081400.gif 081400 ] ||  ||[https://hirlam.org/portal/validation/36h1/case/alaro_3dvar2010081412.gif  081412 ] || 
|| "scandinavia_5.5" domain, ALADIN 3dvar || [https://hirlam.org/portal/validation/36h1/case/aladin_5,52010081400.gif 081400 ] ||  ||[https://hirlam.org/portal/validation/36h1/case/aladin_5.52010081412.gif  081412 ] || 
|| "scandinavia" domain, ALADIN 4dvar || [https://hirlam.org/portal/validation/36h1/case/4dvar2010081400.gif 081400 ] ||  ||[https://hirlam.org/portal/validation/36h1/case/4dvar2010081412.gif  081412 ] || 
 * [http://www.dmi.dk/dmi/skybrud_pa_bornholm 2010081706, Bornholm "flashfloods " case ]
|| "northsea" domain, AROME blending || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081606.gif 081606 ] || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081612.gif 081612 ] ||[https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081618.gif  081618 ] || 
|| "denmark" domain, AROME 3dvar || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081606.gif 081606 ] || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081612.gif 081612 ] ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081618.gif  081618 ] ||
|| "denmark" domain, AROME 3dvar, 36h1.3+, edkf || ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar_c12010081612.gif  081612 ] || ||
|| "denmark" domain, AROME 3dvar, 36h1.3+, edmfm || ||[https://hirlam.org/portal/validation/36h1/case/arome_3dvar_edmfm2010081612.gif  081612 ] || ||
|| "scandinavia_5.5" domain, ALARO 3dvar || || [https://hirlam.org/portal/validation/36h1/case/alaro_3dvar2010081612.gif 081612 ] || || 
|| "scandinavia_5.5" domain, ALADIN 3dvar || || [https://hirlam.org/portal/validation/36h1/case/aladin_5.52010081612.gif 081612 ] || || 
|| "scandinavia" domain, ALADIN 4dvar || || [https://hirlam.org/portal/validation/36h1/case/4dvar2010081612.gif 081612 ] || || 
 * [http://www.dmi.dk/dmi/voldsom_regn_i_billund 2010081809, "Billund" case ]
|| "northsea" domain, AROME blending || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081712.gif 081712 ] || [https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081718.gif 081718 ] ||[https://hirlam.org/portal/validation/36h1/case/NORTHSEA2010081800.gif  081800 ] || 
|| "denmark" domain, AROME 3dvar || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar20100811712.gif 081712 ] || [https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081718.gif 081718 ] ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar2010081800.gif  081800 ] ||  
|| "denmark" domain, AROME 3dvar, 36h1.3+, edkf ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar_c12010081712.gif  081712 ] || ||[https://hirlam.org/portal/validation/36h1/case/arome36_3dvar_c12010081800.gif  081800 ] ||
|| "denmark" domain, AROME 3dvar, 36h1.3+, edmfm || [https://hirlam.org/portal/validation/36h1/case/arome_3dvar_edmfm2010081712.gif  081712 ] || ||  [https://hirlam.org/portal/validation/36h1/case/arome_3dvar_edmfm2010081800.gif  081800 ] ||
|| "scandinavia_5.5" domain, ALARO 3dvar ||[https://hirlam.org/portal/validation/36h1/case/alaro_3dvar2010081712.gif 081712 ] ||  || [https://hirlam.org/portal/validation/36h1/case/alaro_3dvar2010081800.gif 081800 ]|| 
|| "scandinavia_5.5" domain, ALADIN 3dvar ||[https://hirlam.org/portal/validation/36h1/case/aladin_5.52010081712.gif 081712 ] ||  || [https://hirlam.org/portal/validation/36h1/case/aladin_5.52010081800.gif 081800 ]|| 
|| "scandinavia" domain, ALADIN 4dvar ||[https://hirlam.org/portal/validation/36h1/case/4dvar2010081712.gif 081712 ] ||  || [https://hirlam.org/portal/validation/36h1/case/4dvar2010081800.gif 081800 ]|| 
=== Post-release tuning experiments ===
 * Sensitivity due to correction about use of several conventional obs data (surface and aircraft data)
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_SCA_36h13_aladin_3dvar_mc_201001" target="_blank"> ALADIN-3DVAR (36h13_arome_3dvar_SCA) vs 3DVAR-obs data correction (36h13_aladin_3dvar_mc), SCANDINAVIA domain </a>
}}}
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_4dvar_36h13_aladin_4dvar_mc_201001" target="_blank"> ALADIN-4DVAR vs 4DVAR-obs data correction, SCANDINAVIA domain </a>
}}}
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_mc_36h13_aladin_4dvar_mc_201001" target="_blank"> ALADIN-3DVAR vs 4DVAR after obs data correction, SCANDINAVIA domain </a>
}}}
   * ALADIN, 201001
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_aladin_3dvar_mc_36h13_aladin_4dvar_mc_36h13_aladin_4dvar_mc1_201001" target="_blank"> ALADIN-3DVAR vs 4DVAR after obs data correction vs 4DVAR with additional Jb tuning, SCANDINAVIA domain </a>
}}}
 * Sensitivity due to use of onset of CANOPY_DRAG switch
   * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_NEW_36h13_arome_3dvar_c1_201001" target="_blank"> impact of activating CANOPY_DRAG in AROME (36h13_arome_3dvar_c1),  DENMARK domain </a>
}}}
   * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_c1_36h13_alaro_3dvar_36h13_aladin_3dvar_S03_SG05" target="_blank"> cross comparison between HIRLAM and HARMONIE systems after AROME correction of CANOPY_DRAG,  DENMARK domain </a>
}}}
 * Test of EDMFM scheme in AROME, following correction by Wim de Rooy 
   * AROME, 201001, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_c1_36h13_arome_3dvar_edmfm_201001" target="_blank"> impact of EDMFM in AROME, comparing the recent 36h1 branch (36h13_arome_3dvar_c1) vs 36h13_arome_3dvar_edmfm,  DENMARK domain </a>
}}}
   * AROME, 201008, DENMARK
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/36h13_arome_3dvar_c1_36h13_arome_3dvar_edmfm_201008" target="_blank"> impact of EDMFM in AROME, comparing the recent 36h1 branch (36h13_arome_3dvar_c1) vs 36h13_arome_3dvar_edmfm,  DENMARK domain </a>
}}}

=== '''Headlines of main validation conclusions about 36h1.3''' ===
  * ''AROME produces forecasts with comparable skill to those of operational HIRLAM at 3-5 km resolution; AROME forecast is seen to be capable to forecast extreme summer precipitation cases''
  * ''ALADIN runs produce forecasts of basic parameters with comparable skill to those of operational HIRLAM at 5 to 10 km range''
  * ''AROME and ALARO suffers deficiency in forecast of cold Nordic winter temperature''
  * ''AROME forecast in 36h1.3 suffers excessive surface wind bias. This can be effectively eliminated through activation of CANOPY_DRAG switch in surfex''
  * ''In AROME runs, a clear benefit of surface data assimilation is shown compared to 'dynamic downscaling' case. 3D-VAR results in improved initial fit but the benefit disappear along forecast length. Tuning needed''
  * ''In ALARO, 3D-VAR has negative impact on surface humidity and related forecasts''
  * ''After correction on some settings in 36h1.3 about observation data usage, ALADIN-4DVAR provides comparable scores to that of 3D-VAR''
== Appendix: real-time comparisons ==
 * 201012-201102, DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/F03_DENMARK" target="_blank">  AROME-3DVAR trunk (DENMARK) vs DMI-HIRLAM S03 (F03), real time </a>
}}}
 * 201012-201102, DENMARK domain
{{{ 
#!html 
<a href="https://hirlam.org/portal/validation/36h1/RCR_74T_DENMARK" target="_blank">  AROME-3DVAR trunk (DENMARK) vs HIRLAM-trunk (RCR_74T), real time </a>
}}}
== Appendix: Instructions about experiment set up ==
A frozen version of trunk, ~nhz/harmonie_release/trunk876x where 876x denote the latest changeset [8767] in svn, is made frozen on Dec 13 2010 at ecgate so that all experiments can refer to same repository

Following steps shall be followed to configure a new experiment
 1. Preparation
   * Check on ecgate
     * do "acct_status" to make sure that you have sufficient SBU resources for carrying out experiment
     * do "ecquota -v" to make sure you have sufficient disk space on /home/, /scratch/ partition 
 1. Configure
   * on ecgate, configure experiment. Choose an experiment name such as valid36h13_arome (note that "." is not allowed in the name-string). do then following
{{{
   mkdir -p ~/hm_home/valid36h13_arome; cd ~/hm_home/valid36h13_arome
   ~nhz/Harmonie setup -r ~nhz/harmonie_release/trunk876x -c $model_configure
             where model_configure can be one of the following
                       AROME_3DVAR      # for AROME with DA on surface and upper air
                  or   AROME            # for AROME with surface-da and upper air blending
                  or   AROME_NONE       # for AROME with no data assimilation on upper air nor surface
                  or   AROME_EDMFM      # for AROME with EDMFM
                  or   AROME_MF60       # for AROME with VLEV=MF_60
                  or   ALADIN_3DVAR     # for ALADIN with DA
                  or   ALADIN_NONE      # for ALADIN without data assimilation    
                  or   ALADIN_4DVAR     # for ALADIN with 4D-VAR and on SCANDINAVIA (11 km) domain
                  or   ALARO            # for ALARO with surface-da and upper air blending, SCANDINAVIA_5.5
                  or   ALARO_3DVAR      # for ALARO with DA, SCANDINAVIA_5.5
                  or   ALARO_NONE       # for ALARO without data assimilation
                  or   ALARO_MF60       # for ALARO-blending with VLEV=MF_60
}}}
   * check about the start files such as sms/config_exp.h in your ~/hm_home/valid36h13_arome, modify settings in sms/config_exe.h for your domain, vertical level... if necessary
 1. Launch experiment with
{{{
   ~nhz/Harmonie start DTG=2010073118 DTGEND=2010083118 LLMAIN=24  
                            # summer episode, use LLMAIN=36 for ALARO/ALADIN,   or,
   ~nhz/Harmonie start DTG=2009123118 DTGEND=2010013118 LLMAIN=24  
                            # winter episode use LLMAIN=36 for ALARO/ALADIN

}}}
 1. Follow progress of the ongoing cycles
   * look at the files progress.log in ~/hm_home/valid36h13_arome which is updated at the end of each successful cycle
   * launch mXCdp in ~/hm_home/valid36h13_arome 
{{{
   ~nhz/Harmonie mon               # this opens a graphic user interface via which one can manipulate runs
}}}
   * in case of any irregularities, check log files such as 
     * ecgate: $SCRATCH/hm_home/valid36h13_arome/harmonie.log
     * ecgate: $SCRATCH/hm_home/valid36h13_arome/mSMS.log
     * ecgate or c1a: /ms_dir/ms/??/$userid/HARMONIE/valid36h13_arome/ ...
 1. If for any reason you want to resume an experiment, do following
   * First make sure that the experiment is not on halt
     * go to ~/hm_home/valid36h13_arome, check status and exit from the experiment, if needed
{{{
   ~nhz/Harmonie mon        
}}}     
     * resume the experiment by command, where BUILD=no ensure that you do not repeat build
{{{
   ~nhz/Harmonie prod DTGEND=$last_cycle_of_period LLMAIN=24 BUILD=no    
}}} 
 1. If you want to make certain local changes such as Env_submit, sms/config_exp.h, nam/harmonie_namelists, do following
    1. go to experiment configuration directory ~/hm_home/valid36h13_arome and edit/add scripts
       * e.g., suppose you want to increase CPU request as done in ~nhz/hm_home/valid36h13_arome_mf60, copy Env_submit to your own
    1. launch monitoring interface 
{{{
   ~nhz/Harmonie mon        
}}}  
    1. On the GUI, left-clik bullet !RunInit on "submit job" and at dialogue box, confirm. This will enable a new batch script with increased CPU requests for future forecast, screening and minimisation jobs. Note that if you for any reason need to resume job with 'Harmonie prod'
 1. If you want to make import changes/updates/corrections that has been added to the original repository, such as the update about sms and scr directory in trunk876x,  do following
    1. go to experiment configuration directory ~/hm_home/valid36h13_arome and remove the file "experiment is_locked"
    1. launch monitoring interface 
{{{
   ~nhz/Harmonie mon        
}}}  
    1. On the GUI, left-clik bullet !RunInit on "submit job" and at dialogue box, confirm. This will be sufficient to import updated scripts/namelist/sms/msms from repository. 

For easier coordination, please make sure that you inform xiaohua@dmi.dk and ulf.andrae@smhi.se about your planned experiments. Please always launch experiments in pair so that you can count on inter-comparisons against a comparable run

== Appendix: status about validation runs ==
=== Status of validation experiments as of Jan 11 2010 about the latest running cycles ===
 || experimenter & name   || domain || VLEV || physics || DA || last cycle || contributor ||
 || nhl, valid36h13_arome || DENMARK || 65 || AROME || blending+oi_main || finished, 2010013118 || Bjarne ||
 || nhl, valid36h13_arome3dvar|| DENMARK || 65 || AROME || 3DVAR+oi_main || finished, 2010013118 || Bjarne ||
 || mib, valid36h13_arome || DENMARK || 65 || AROME || blending+oi_main || broken, 2010082000 || Shiyu ||  
 || mib, valid36h13_arome3dvar || DENMARK || 65 || AROME || 3DVAR+oi_main || finished, 2010083118 || Shiyu ||
 || fim, valid36h13_arome_fin_s || FINLAND || 65 || AROME || blending+oi_main || finished, 2010083118 || Sami ||  
 || fim, valid36h13_arome_fin_w || FINLAND || 65 || AROME || blending+oi_main || finished, 2010013118  || Sami ||  
 || fim, valid36h13_arome3dvar_fin_s || FINLAND || 65 || AROME || 3DVAR+oi_main || finished, 2010083118 || Sami ||
 || fim, valid36h13_arome3dvar_fin_w || FINLAND || 65 || AROME || 3DVAR+oi_main || finished, 2010013118  || Sami ||
 || fim, valid36h13_arome3dvar_fin_s || FINLAND || 65 || AROME || none || finished, 2010083118  || Sami ||
 || fim, valid36h13_arome3dvar_fin_w || FINLAND || 65 || AROME || none || finished, 2010013118  || Sami ||
 || nhz, valid36h13_arome_mf60 || DENMARK || MF_60 || AROME || blending+oi_main || finished, 2010083118 || Xiaohua ||
 || nhz, arome36h13_3dvar || DENMARK || 65 || AROME || 3DVAR+oi_main || finished, 2010083118 || Xiaohua ||
 || nhz, arome363dvar || DENMARK || 65 || AROME || 3DVAR+oi_main || finished, 2010013118 || Xiaohua ||
 || nli, valid36h13_arome_none||  DENMARK || 65 || AROME || NO DA || finished, 2010083118|| Wim || 
 || nhe, valid36h13_arome_none || DENMARK || 65 || AROME || NO DA || finished, 2010013118 || Xiaohua ||
 || nli, valid36h13_arome_none_edmfm || DENMARK || 65 || AROME edmfm || NO DA ||  broken, 2010073118 || Wim || 
 || nhz, valid36h13_arome_edmfm || DENMARK || 65 || AROME edmfm || blending+oi_main ||  broken,  2009123118 || Xiaohua ||
 || snh, valid36h13_aladin_3dvar||  SCANDINAVIA_5.5 || HIRLAM_60 || ALADIN || 3DVAR+CANARI || finished, 2010013118 || Ulf ||  
 || fag, valid36h13_aladin3dvar|| SCANDINAVIA_5.5 || HIRLAM_60 || ALADIN || 3DVAR+ĆANARI || finished, 2010083118 || Ole ||
 || nhe, valid36h13_aladin_3dvar || SCANDINAVIA || HIRLAM-60 || ALADIN || 3DVAR+CANARI || finished, 2010013118 || Xiaohua ||
 || nhe, valid36h13_aladin3dvar || SCANDINAVIA || HIRLAM_60 || ALADIN || 3DVAR+CANARI || finished, 2010083118 || Xiaohua ||
 || nhe, valid36h13_aladin_4dvar || SCANDINAVIA || HIRLAM-60 || ALADIN || 4DVAR+CANARI || finished, 2010013118 || Xiaohua ||
 || smx, valid36h13_aladin_3dvar_mm || SCANDINAVIA || HIRLAM-60 || ALADIN || 3DVAR+CANARI || finished, 2010013118 || Magnus ||
 || smx, valid36h13_aladin_3dvar_ml || SCANDINAVIA || HIRLAM-60 || ALADIN || 4DVAR+CANARI || finished, 2010013118 || Magnus ||
 || nhe, valid36h13_aladin4dvar || SCANDINAVIA || HIRLAM_60 || ALADIN || 4DVAR+CANARI || finished, 2010083118 || Xiaohua ||
 || snh, valid36h13_alaro_3dvar||  SCANDINAVIA_5.5 || HIRLAM_60 || ALARO+surfex || 3DVAR+OI_MAIN || finished, 2010013118 || Ulf ||
 || sbu, valid36h13_alaro_oi_main||  SCANDINAVIA_5.5 || HIRLAM_60 || ALARO+surfex || OI-MAIN || finished, 2010013118 || Trygve ||
 || sbu, valid36h13_alaro_oi_main_mf60|| SCANDINAVIA_5.5 || MF_60 || ALARO+surfex  || OI-MAIN || finished, 2010013118 || Trygve ||
 || sn4, valid36h13_alaro || SCANDINAVIA_5.5 || HIRLAM_60 || ALARO+surfex || blending+OI-MAIN || finished,  2010083118 || Lisa ||
 || sn4, valid36h13_alaro_3dvar || SCANDINAVIA_5.5 || HIRLAM_60 || ALARO+surfex || OI-MAIN || finished, 2010083118 || Lisa ||
 || snh, valid36h13_alaro_3dvar_old || SCANDINAVIA_5.5 || HIRLAM_60 || ALARO+isba || 3DVAR+CANARI || finished, 2010013118 || Ulf ||

=== Daily brief on running status ===

 * Dec 13: several last minute script corrections have made it necessary to re-do an frozen version trunk876x based on latest trunk [8767]. Experiments are now re-started with following sharing of works
   1. AROME
{{{
   ~nhk/hm_home/valid36h13_arome                # AROME with blending, winter episode
   ~nhk/hm_home/valid36h13_arome3dvar           # AROME_3DVAR with 3DVAR, winter episode
   ~mib/hm_home/valid36h13_arome                # AROME with blending, summer episode
   ~mib/hm_home/valid36h13_arome3dvar           # AROME_3DVAR with 3DVAR, summer episode
   ~nhz/hm_home/valid36h13_arome_mf60           # AROME with blending, summer episode, MF_60 level
}}}
   1. ALARO
{{{
   ~sbu/hm_home/valid36h13_alaro_oi_main        # ALARO with blending, winter episode
   ~sbu/hm_home/valid36h13_alaro_oi_main_mf60   # ALARO with blending, winter episode, MF_60 level
   ~sn4/hm_home/valid36h13_alaro                # ALARO with blending, summer episode
   ~snh/hm_home/valid36h13_alaro_3dvar          # ALARO_3DVAR with blending, winter episode
   ~sn4/hm_home/valid36h13_alaro_3dvar          # ALARO_3DVAR with blending, summer episode
}}}
   1. ALADIN
{{{
   ~fag/hm_home/valid36h13_aladin3dvar          # ALADIN-SCANDINAVIA_5.5 with 3DVAR, summer episode
   ~snh/hm_home/valid36h13_aladin_3dvar         # ALADIN-SCANDINAVIA_5.5 with 3DVAR, winter episode
   ~nhe/hm_home/valid36h13_aladin3dvar          # ALADIN-SCANDINAVIA with 3DVAR, summer episode
   ~nhe/hm_home/valid36h13_aladin_3dvar         # ALADIN-SCANDINAVIA with 3DVAR, winter episode
}}}   
 * Dec 14: 
   * trunk876x/scr/Harmonie_testbed.pl has been expanded with AROME_NONE and AROME_NONE_EDMFM options. Wim started run with AROME_NONE and AROME_NONE_EDMFM options for August period and Xiaohua with AROME_NONE for January. Both Xiaohua and Wim's tests with AROME_NONE_EDMFM aborted.This is later disgnosed to be associated with NaN in some part of humidity array after time step 2. Debugging is to be done
   * Problems reported in one of Xiaohua's ALADIN_3DVAR runs for SCANDINAVIA (in DFI) and winter period. Ulf is to check. This is later diagnosed to be associated with unphysical interpolation of sst/snow at the extension zone, corrected. 
   * Kai's runs exited after only one cycle, presumably due to lack of suitable DTGEND in command line.
 * Dec 15
   * Xiaohua start setting up verification statistics which will be updated daily
   * Bjarne Stig took over Kai's run due to Kai's sick leave,
 * Dec 16
   * Validation links added
 * Dec 17
   * An ecgate-system session breaks down all runs for the weekend. Manual resumption with 'Harmonie prod DTGEND=$dtgend" is needed to resum
   * some hickups also found in boundary data interpolation. This ia later corrected by Ulf's further refinement on MARS data retrieval.
   * Xiaohua starts two arome_3dvar runs using trunk879x with updated trunk merging CY36T1-bf9
 * Dec 20
   * ecgate-session last Friday caused interruption during the whole weekend for runs done by ~fim, ~nhk, ~bsa, ~mib, ~fn4 and ~nli. These are resumed now
 * Dec 21
   * ~sub runs, after finishing for 2 weeks, were terminated due to end of SBU allocation for met.no. Since Trygve is away for vacation, the runs could not be resumed
   * ~fim/hm_home/valid36h13_arome3dvar_fin_s interrupted for cycle 2010080418 at !RunScreening: Resumed with ad hoc jump. This is later diagnosed by Magnus to be due to two aircraft report outside of domain to be included in the input ODB. This look to happen rarely but needs to be corrected.
   * several interruptions due to MARS boundary extraction problems

 * Dec 22
   * Ulf fixed MARS boundary extraction problems with a much improved efficiency
   * scr and sms directories in trunk876x are updated to port the above script changes. See previous instructions on how to update your runw via GUI -> !RunInit
 * Dec 23
   * Both of Shiyu's runs look on halt. One of Bjarne's run look on halt. Resumption is needed after holiday
 * Dec 27
   * Due to holidays, runs by Shiyu, Bjarne, Lisa, Trygve, Ulf and Wim have been on halt.
   * Sami's run ongoing. Xiaohuas' run have finished.
 * Dec 29
   * Runs by Shiyu, Bjarne, Lisa, Trygve and Wim still on halt.
   * Ole, Ulf and Sami's runs toward final cycles. Xiaohuas' run have finished. 
 * Dec 30
   * Sami starts winter runs using code base 879x
   * Xiaohua starts 4D-VAR runs
 * Jan 5
   * Shiyu's run with AROME_blending encounter a crash at cycle 2010081718 due to an excessive wind speed during forecast. This is the first of its kind in this validation round and may expose real problem. A repeat of the run is necessary to follow the development
   * many un-explained halt during the past period, especially those during the holidays exposed probably deficiency with miniSMS scheduler which somehow get stuck, thus need manual resumption
 * Jan 6
   * Following are runs currently on halt
     * Ulf's ALARO run
     * both of Bjarne's runs
     * Shiyu's AROME-blending runs
   * Magnus starts validation runs about 3DVAR and 4DVAR using corrected usage of conventional data, e.g, removal of surface temperature, wind over land and correction about aircraft/airep data
   * It appears that the partial script update on Dec 22 was not clean. It caused problem on build. Thus for re-runs involving rebuild of sources it is now safer to use directly basis with 36h1.3
 * Jan 7
   * Bjarne and Xiaohua setup experiments to test use of CANOPY_DRAG in AROME-surfex to correct excessive surface wind, and an additional correction to use in radiation scheme ECMWF algorithm on cloud ice

== Appendix: Other previous validation runs using earlier trunk versions under 36h1 ==
 * [wiki:HarmonieWorkingWeek/System201011#Collectionofevaluationruns Collection of evaluations about recent trunks ]

== Reference: 36h1.3 and recent HARMONIE working weeks ==
 [wiki:ReleaseNotes36h1.3 Release notes for 36h1.3, Dec 29 2010]
 [wiki:Harmonie_36h1 Information about Harmonie 36h1]
 * 
{{{ 
#!html
<a href="http://hirlam.org/trac/wiki/HirlamMeetings/surface_ww_Nov2010_final.pdf" target="_blank"> HARMONIE Working week on surface data assimilation</a>, 15 - 19 Nov 2010, Oslo
}}}
 * [wiki:HarmonieWorkingWeek/4DVAR201011 HARMONIE System Working Week ], 22 -26 Nov 2010, Norrköping
 * [wiki:HarmonieWorkingWeek/System201011 HARMONIE System Working Week], 29 Nov - 3 Dec 2010, Copenhagen