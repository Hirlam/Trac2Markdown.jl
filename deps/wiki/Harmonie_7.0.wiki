[[PageOutline]]
[[Center(begin)]]
== '''HARMONIE 7.0 (Preview)''' ==
(draft. estimated launch of harmonie 7.0: Jan 2007)
[[LastModified]]
[[Center(end)]]

This page contains information about the HARMONIE release 7.0, such as release notes, description of new features, meteorological impacts, HOWTOs, information about the code changes, code test and validation, known problems and bug reports, acknowledgment and references.

Please note that Harmonie 7.0 is not released yet, the information presented on this page is subjected to further update.

== What is HARMONIE ==

HARMONIE is the acronym for Hirlam's meso-scale forecast system (Hirlam Aladin Regional/Meso-scale Operational NWP In Europe). The HARMONIE system is the product of the HIRLAM-ALADIN joint project HARMONIE: Hirlam-Aladin Research towards Meso-scale Operational NWP in Europe.

== Harmonie 7.0 Release Information ==
 * On Nov 30, 2006, the trunk version of the harmonie 7.0 is introduced into the Hirlam source code repository via changeset [4792]. It is decided to refer the first version of harmonie system as 7.0, to be in phase with the rest of components in the HIRLAM forecast system.

== Harmonie 7.0 source code downloads ==

 * the trunk version of the 7.0 can be obtained via Subversion command
{{{
   svn co https://svn.hirlam.org/trunk/harmonie                
}}}
 * On ECMWF, the sandbox (checkout of the source code with Subversion checkout command) of the 7.0 trunk version is updated daily and available, on 
{{{
   ecgate:/home/ms/dk/nhz/hirlam_release/trunk/harmonie; hpce:/ms_perm/hirlam/hirlam_release/trunk/harmonie
}}}
 * The sandbox tarball of the Harmonie 7.0 trunk, is available on ECMWF:ecgate as /scratch/ms/dk/nhz/harmonie_trunk.tar.gz

== Main Features of 7.0 ==

Harmonie 7.0 contains following components:
 * __source code__ the copy of the export version of the ALADIN/IFS release cycle 31t1, which contains the first exported version of basic HIRLAM physics package
 * __scripts__ the scripts needed to prepare, perform and post-process Harmonie forecast at the ECMWF HPCE platform for the following configuration
   * selection of forecast model with hydrostatic or nonhydrostatic dynamics;
   * selection of physical parameterisation with ALADIN physics, HIRLAM physics or AROME physics
   * selection of model domain, resolution, forecast length, coupling method etc.
 * __namelists__ namelists used to define experiment configuration
 * __utilities__ this includes 
   * the tool, GMKPACK, for building the forecast executible
   * tools to prepare and convert data files 
   * tools for carrying out monitoring, post-processing and graphic display

== Technical Aspects ==

=== Tested model version, domains, components and computer architecture ===

||computer platform||tested ALADIN/IFS version|| model domain || dynamic core || physics || purpose of || nr of nodes || task per node || time stepping || forecast /day || forecast length || forecast elapse time || reporter ||

|| MF Fujitsu || cycle 31t2 || S-France 2.5km[[FootNote(240x240x41)]]|| Non-Hydrostatic || AROME ||   real-time run [[FootNote(since Nov 2006)]] || ? || ? || 60s || 1 [[FootNote(at 00 UTC)]] || 30 h || ?s[[FootNote(Currently the grid-point-cost of AROME run is 2.5 to 3 times that of ALADIN-France, although AROME has 4 times higher resolution than ALADIN-France and 7 times shorter timestepping. For AROME runs, the costs for dynamics and physics part are roughly 60% vs 40% )]] ||Gwenaelle Hello ||

|| DMI NEC-SX6 || cycle 31t1 || SMHI-11km[[FootNote(245x277x40)]]|| Hydrostatic || ALADIN ||  real-time run [[FootNote(since Jan 2006)]] || 2 || 8 || 300s || 1 [[FootNote(at 00 UTC)]] || 24 h || 536s ||Bjarne Stig Andersen ||
|| DMI NEC-SX6 || cycle 31t1 || SMHI-11km[[FootNote(245x277x40)]]|| Hydrostatic || ALADIN ||  real-time run [[FootNote(since Nov 2006)]] || 2 || 8 || 300s || 1 [[FootNote(at 00 UTC)]] || 24 h || 599s ||Bjarne Stig Andersen ||
|| DMI NEC-SX6 || cycle 31t1 || DMI-2.5km[[FootNote(373x389x40)]]|| Non-Hydrostatic || HIRLAM  ||  real-time run [[FootNote(since Nov 2006)]] ||  2 || 8 || 60s || 1 [[FootNote(at 00 UTC)]] || 24 h || 4495s ||Bjarne Stig Andersen || 
|| DMI NEC-SX6 || cycle 31t1 || DMI-2.5km[[FootNote(373x389x40)]]|| Non-Hydrostatic || AROME  ||  real-time run [[FootNote(since Nov 2006)]] || 2 || 8 || 60s || 1 [[FootNote(at 00 UTC)]] || 24 h || 7178s ||Bjarne Stig Andersen || 

|| FMI SGI ALTIX || cycle 30t1 || SMHI-11km[[FootNote(245x277x40)]]|| Hydrostatic || ALADIN ||   real-time run [[FootNote(since 19 May 2006)]] || 1 || 64 || 300s || 2 [[FootNote(at 00 12 UTC)]] || 24 h || ~10 min ||Sami Niemela ||
|| FMI SGI ALTIX || cycle 30t1 || FMI-2.5 km [[FootNote(300x300x40)]]|| Non-Hydrostatic || AROME   ||   real-time run [[FootNote(since 19 May 2006)]] || 1 || 64 || 60s || 2 [[FootNote(at 00 12 UTC)]] || 24 h || ~3 h ||Sami Niemela ||

|| ECMWF HPCD|| cycle 29t2 || INM 11 km ?|| Hydrostatic || ALADIN  ||   technical test || ? || ? || ?s || ? || ? h || ?s ||Ana Morata ||
|| ECMWF HPCD|| cycle 29t2 || INM 2.5 km ?|| Non-Hydrostatic || ALADIN  ||   technical test || ? || ? || ?s || ? || ? h || ?s ||Ana Morata ||

|| SMHI Linux Cluster|| cycle 31t0 || SMHI-11km[[FootNote(245x277x60)]]|| Hydrostatic || ALADIN  ||  real-time run [[FootNote(since 04 Jul 2006)]] || 16 || 2 || 300s || 2 [[FootNote(at 00 12 UTC)]] || 48 h || 2700s ||Ulf Andrae ||
|| SMHI Linux Cluster|| cycle 31t0 || SMHI-2.5 km north [[FootNote(277x259x60)]]|| Non-Hydrostatic || AROME  ||   real-time run [[FootNote(since 16 Aug 2006)]] || 16 || 2 || 60s || 1 [[FootNote(at 00 UTC)]] || 24 h || ~5h ||Ulf Andrae ||
|| SMHI Linux Cluster|| cycle 31t0 || SMHI-2.5 km south [[FootNote(259x277x60)]]|| Non-Hydrostatic || AROME  ||   real-time run [[FootNote(since 16 Aug 2006)]] || 16 || 2 || 60s || 1 [[FootNote(at 00 UTC)]] || 24 h || ~5h ||Ulf Andrae ||

|| ECMWF HPCE|| cycle 31t1 || ? || Non-Hydrostatic || AROME  ||   technical test || ? || ? || ?s || ? || 24 h || ?s ||Ulf Andrae ||

 [[FootNote]]

[[BR]]

== Known problems and bug fixes ==


== [wiki:Install_HARMONIE_ECMWF Install and run 7.0 on ECMWF platforms] ==

== Install and run 7.0 on non-ECMWF platforms ==

== Performing experiments with Harmonie 7.0 ==

Performing ALADIN/AROME experiments at HPCE are done by using the  
[wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts Harmonie scripts].

Steps to run ALADIN/AROME experiment at HPCE.

1. Make sure that all the needed executables are in $HOMEPACK/your_exp/bin/ 
  
 * AROMODB  
 * [https://hirlam.org/trac/browser/trunk/harmonie/util gl] 
 * fldextr  
 * obsextr 
 * mandtg, which is HIRLAM facility and could be exchanged with ECMWF newdate, take a look in the scripts to see how it is used. 
  
2. Update experiment name where needed by changing NEWEXP in '''Change_exp''', Run Change_exp  

3. Update '''Env_expdesc''' according to your needs.

4. Set start and endtime in '''Start_harmonie''', Run Start_harmonie ( on hpce!!!! )  

 * '''Start_harmonie''' will submit Prepare_harmonie, which will prepare climate and boundary files 
 * '''Prepare_harmonie''' will submit Run_harmonie, which will run the forecast 
 * '''Run_harmonie''' will submit Postp_harmonie, which will extract files for verification and archive at ECFS 
  
Each of the jobs Prepare_harmonie, Run_harmonie, Postp_harmonie can be restarted separately. If you are not at the endtime a Prepare_harmonie will be submitted again.

The experiment will by default take forecasts from RCRa. Change in '''ExtractBD''' to fit your needs.

 * __[wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Modeldomain Choice of model domain]__

 * __[wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Climategeneration Climate generation]__ 

 * __[wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Boundaryfilepreparation Coupling to HIRLAM runs]__ 

 * __Use of namelist to configure experiments __

 * __[wiki:File_Conv_Postp_Verif File conversion, post-processing, verification]__

== Reference ==

== Acknowledgement ==



----
[[Center(begin)]]
[[Color(red, Last modified on)]] [[LastModified]]
[[Center(end)]]
