[[PageOutline]]
[[Center(begin)]]
= '''Video Meetings on Conventional Data and COPE''' =

Last modified [[LastModified]]
[[Center(end)]]

== Fourth meeting: 11 December 2017, 10:00 CET ==

=== Participants ===


 * Martin Ridal
 * Eoin Whelan
 * Jana Sanchez Arriola
 * Maria Diez
 * Roohollah Azad 
 * Alena Trojakova
 * Sigurdur Thorsteinsson
 * Maria Monteiro
 * Claude Fischer
 * Mats Dahlbom
 * Bjarne Amstrup
 * Kasper Stener
 * Trygve Aspelien
 * Roger Randriamampianina

=== Topics of the day: ===
* **Roger** asked the importance of conversion of local data to any local BUFR data format. The reason of asking is that Bator is more oriented to handle WMO BUFR format convention. It is then better to build the local data using the WMO template after dealing with the data duplicates and any kinds of data correction.

* **Radiosonde (RS) BUFR Format:**[[BR]]
 - **Eoin** reported that the backphased Bator from CY43 to CY40 allows the use of WMO BUFR formatted data and with some option to use some local BUFR format templates. It allows to switch on and off the thinning of the radiosonde data.[[BR]]
 - There is a hard code of use of data thinning to ARPEGE model levels. Since this includes more levels than the HARMONIE-AROME, we can leave with it.[[BR]]
 - We discussed the use of the radiosonde measurements during the fall down process. **Eoin** mentioned that (about 5 years ago) a similar study at Valentia Observatorty showed that the measurements during the descent were biased due to the rate of descent, even with parachute. These studies were also limited by the loss of signal caused by local orography. **Maria Monteiro** mentioned that there is software able to process these kind of data to make it usable (see for example [https://www.eol.ucar.edu/software/aspen the Aspen webpage] with [https://www.eol.ucar.edu/system/files/Aspen%2520Manual.pdf its manual]).[[BR]]

 **Action-1 on Claude** to ask about the progress at Meteo France about the assimilation of RS humidity above 300 hPa.[[BR]]

* **Wind profilers:**[[BR]]
 Not much discussed.[[BR]]

* **Aircraft derived data (ADD):**[[BR]]
 - **MODE-S data:** All participants recognised the importance of having two ADD sub-type definition. This will prevent us to make additional work during the implementation and fixing the observation error after the implementation.[[BR]]
 **Action-2a on Claude, Jean-Francois and Roger** to have a consensus about the sub-type to be used, then communicate with ECMWF for agreement and final decision.[[BR]]
 **Action-2b on Eoin** to follow up with ECMWF "ODB Governance staff" on this matter (raised in October 2016). [[BR]]
 - The participants informed each other about the implementation process of the MODE-S receivers. MET Norway have got some sample data for testing . The data were not only from their local reception, but also from other companies in Norway.[[BR]]
 - Meteo France get the MODE-S data from different sources and they have also test data from their local reception.[[BR]]
 - **Bjarne** Informed us that at last E-AMDAR meeting, Florence Besson reported that they observed less data in the Eastern part of France compared to the western part. It was also mentioned that a reception system can be implemented in the western part of France to get reasonable data (Bjarne???).[[BR]]
 - **VARBC:** No specific report about the functionality of the VarBC with ADD. **Claude** informed that at last video meeting with ECMWF, it was said that it's difficult to compare the standard 4DVar with OOPS-based one, probably because of the different set up of VarBC. **Claude** also said that they switched back to off-set only for VarBC to correct biases for GNSS ZTD.[[BR]]
 - **Humidity data from Aircraft:** Maria Diez reported about the results from her implementation work with passive assimilation of humidity observation from aircraft. She found relatively bad statistics of O-B in the lower model levels, which she couldn't understand. **Bjarne** mentioned that it's important to account for the super-saturation when using the mixing ratio.[[BR]]
 **Action-3 on Maria and Roger** to contact Mate Mile from Hungary to discuss the implementation procedure and figure out the source of the bad statistics.

* **Near surface data:** [[BR]]
 - **Kasper** reported about his work with collecting and processing pressure data from Smart Phones. He use special software to collect the data to DMI server. The data then can be downloaded at any time. He is collecting the raw data including, among others, the acceleration of the moving phones and the altitude of of the device. He compares the measurements against a model at DMI. He mentioned that the iPhone and Samsung smart phones are measuring in different frequencies. During his visit to DMI, **Roger** showed to Kasper how to add additional pressure observations in the ODB. [[BR]]
   -- There are few issues with the pressure data: There is need for the device hight correction, bias correction and good definition of the measurement time interval. [[BR]]
   -- **Kasper** compared the phone pressure measurement against a synop station. He found that both instruments are showing very similar pressure tendencies. So, one can also thinking about using the measured tendencies using nudging scheme.[[BR]]

 - **Roger** showed some slides from **Tomas Nipen** and **Cristian Lussana** on Netatmo data quality, their processing and their use in precipitation analysis and post-processing. He showed that these data, combined with regular synop network, can be very valuable and very good for analysis and post-processing.[[BR]]

* **Surface observations:**[[BR]]
 - **Martin** reported that, in Metcoop, they observed missing ship station ID with Oulan data processing. Processing the observations with Bator finds more ship data. **Bjarne** said that the processing of the ship data with WMO BUFR convention is an ongoing process. This can provide substantial difference in the database.

 **Action-4 on Claude** to ask Meteo France colleagues if they observed similar problem before we send a warning to all centres.

* ** SAPP ** 
 - **Eoin** promised to keep us informed about the ongoing implementation work at Met Éireann. He also promised to coordinate with ECMWF and organise a workshop on SAPP next year.


* **COPE:**[[BR]]
 - **Eoin, Mats and Bjarne** reported that not too much was done with COPE. They all follow the development work at ECMWF.[[BR]]

* **ODB-API:**
 - **Roger** asked about the readiness of our system to handle data in ODB2 format. **Eoin** said that there shouldn't be problem with converting ODB2 to ODB1. The ODB-API software bundle has the required tools.[[BR]]

* **Bator for all observations:**
 - **Eoin** said that he is working Bator to make it handling all observations. He is progressing well.[[BR]]
 - **Martin** reported that in METCOOP they are ready to use Bator with all observations. The exception will be that they will use the MSLP as pressure observation at surface, instead of station hight. The pre-operational test will start soon this week. [[BR]]

=== Annex ===
 * **Action 2b - Eoin**: I spoke again with Lars Isaksen and Bruce Ingleby (ECMWF, January 19th) regarding Mode-S observation entries in the ODB database. A follow-up e-mail was sent with Siebren cc'ed.
 * **SAPP**: 
  * Sarah Gallagher (Met Éireann) has completed an initial evaluation of SAPP and has summarised her findings in an internal report. [raw-attachment:preliminary-evaluation-sapp.pdf preliminary-evaluation-sapp.pdf]. 
  * Enrico Fucile (ECMWF) has informed me that the provision of SAPP to member states has been taken up by senior management and an internal discussion is ongoing at ECMWF. This means that, for now, ECMWF will not be in a position to provide SAPP system updates or host a proposed workshop.
  * If your institute is still interested in evaluating/using SAPP you should:
    1. contact Enrico directly "registering" your interest
    1. through your TAC representative, you should request SAPP stating whether you want the system for testing or operational purposes and what kind of support you would expect from ECMWF.


----

== 3rd meeting: 13 March 2017, 10:00 CET ==

=== Participants ===


 * Martin Ridal
 * Eoin Whelan
 * Jana Sanchez Arriola
 * Maria Diez
 * Roohollah Azad 
 * Siebren de Haan
 * Isabel Monteiro
 * Marcin Kolonko
 * Zahra Sahlaoui
 * Sigurdur Thorsteinsson
 * Maria Monteiro
 * Jean-Francois Mahfouf
 * Anis Satouri
 * Roger Randriamampianina

=== Topics of the day: ===
* **Radiosonde BUFR Format:**[[BR]]
 - **Eoin** reported his work on updating Bator to read all conventional observations, including radiasonde BUFR data. He had to make some backphasing of some radiosonde specific features from CY43 code to have it working with all obs. He tested MetCoOP, Met Éireann, KNMI and MARS BUFR files. The implemented solution can take balloon drift into account but this has not been tested. The impact of the new BUFR radiosondes is so far neutral, but we might expect positive impact in case of dynamic (windy) events. Next step in the Harmonie system is to test MF vertical thinning procedure.[[BR]]
 - **Jean-Francois** said that there is changes in the BUFR RS handling at MF: no account of balloon drift, but using obs at every ~75 m, so more obs in lower layers, resulting ~250 points data used in both AROME and ARPEGE. [[BR]]
 - The common challenge here is to use as much as possible obs from RS BUFR.[[BR]]
 - **Jean-Francois** informed us that at MF they tested the assimilation of humidity above 300hPa.  This is an ongoing work, but they found already somehow positive impact. Note that both MF and Harmonie system use RS humidity up to 300hPa. It was also mentioned that the background error statistics need to be adjusted to better take into account this modification.

* **Wind profilers:**[[BR]]
 Not much discussed.[[BR]]

* **Aircraft derived data (ADD):**[[BR]]
 - **Jean-Francois** asked if someone have done testing of different vertical thinning with aircraft data. **Roger** mentioned that **Patrik Benacek** reported at last LACE working days some studies on tuning of observation errors and observation thinning, including aircraft data. A ready report from Patrik can be found [http://www.rclace.eu/File/Data_Assimilation/2016/rep_Patrik_ModeS.pdf here].[[BR]]
 - **Roger** informed that new receiver for Mode-S data was installed on top of MET Norways' main building. In case of successful access and processing of Mode-S data, it can be extended to other cities in Norway.[[BR]]
 - **Meteo France** is also installing similar receivers. [[BR]]
 - **Eoin** also mentioned that the foresee exploration of Mode-S data in the near future.[[BR]]
 - **VARBC:** [[BR]]
   **Jean-Francois** mentioned that Patrick Moll tested the ECMWF setup in ARPEGE, which is technically working. They will continue with this work. The question here is how to start the bias correction coefficients spinup: using warm or cold start?[[BR]]

* **Near surface data:** [[BR]]
 - **Eoin** mentioned that Bator now reads all surface observations. But, it misses the check of valid Synop height, which allow more obs entering the DA system, but creating (after **Martin**) large obs cost function in screening and even in minimisation. This means that the above mentioned checking needs to be implemented in Bator as well. **Eoin** will add a new check in the Bator code. [[BR]]

* **COPE:**[[BR]]
 - **Eoin** informed the attendees about the workshop they had at Met Éireann on SAPP, where they learned that this package is doing also what bufr2odb is doing for all observations. **Roger** warned the attendees that bufr2odb is processing some of the observations in slightly different way than Bator. But, at the same time once one have all observations processed in ECMWF way, one can think of using ECMWF/IFS way of blacklisting as well. Note that the blacklisting procedure is different between IFS and ARPEGE/AROME/Harmonie.[[BR]]
 - During the above mentioned workshop, **Eoin** was informed that ECMWF is working in direct use of ODB2 in DA. This means that we can leave with Bator (reading all obs) until we get our system working with ODB2. This is inline with our common strategy on observation (pre-)processing.[[BR]]
 - **Jean-Francois** mentioned that at MF they work with Bator to accommodate more observation formats like HDF5, netCDF4, etc ... He also mentioned that Bator suits more to needs of our LAM DA than SAPP-based packages/processing tools.[[BR]]
 - At the moment we have two ongoing developments: SAPP & COPE, and Bator, where we need to build a convergence in our system during the next few cycles.[[BR]]

* **ODB-API:**
 - This mostly on the conversion between ODB1 & ODB2, which is for the moment not useful. But the app exists and it's used for data monitoring and storage mainly.[[BR]]

* **Bator for all observations:**
 - **Eoin** reported that in case of MetCoOp BUFR data have remaining issue in Bator, which needs to be explored further. Read of GNSS (ZTD) data in BUFR format is ongoing. Whitelisting exists in Bator, which needs to be explored. [[BR]]
 - **Martin** reported that they succeeded to read GNSS (ZTD) COST ASCII formatted data using separate whitelisting.

* ** Need for update of the background error statistics: **
 - **Magnus** who could not take part informed Roger that they are working with other processing centres than NGAA. He also informed about the new B matrix they succeed to produce, which produce clear positive impact in the MetCoOp DA. Documentation about the computation of B is on Wiki. So, lesson to learn from this communication is that we need to regularly update our B when the forecast model has changed. Also, we can use the EDA system to compute the new B.

----

== Second meeting: 12 September 2016, 10:00 CET ==

=== Participants ===


 * Magnus Lindskog
 * Martin Ridal
 * Siebren de Haan 
 * Alena Trojakova
 * Mats Dahlbom
 * Bjarne Amstrup
 * Eoin Whelan
 * Jana Sanchez Arriola
 * Maria Diez
 * Roohollah Azad 
 * Roel Stappers 
 * Serguei Ivanov
 * Martynas Kazlauskas
 * Roger Randriamampianina

=== Topic of the day: ===
* **Radiosonde BUFR Format:**[[BR]]
 - **Eoin** presented that BUFR-formatted Radiosonde data are now available in Harmonie through Bator. In CY40, more observations become available in direct read in BUFR format from Bator. The solution in use for radiosondes is backphased from CY43(??). MARS BUFR data handling is updated. To ease implementation of new data in Bator, new executable called "guessparamBator" was created to provide first guess of the content of the "param.cfg" file.[[BR]]

* **Wind profilers:**[[BR]]
 Not much discussed.[[BR]]

* **Aircraft derived data (ADD):**[[BR]]
 - Meteo France receives the data, but did not find time to work with it yet. They look forward to help from Siebren to activate one receiver in Toulouse.[[BR]]
 - MRAR data from KNMI (Siebren) are added to OPLACE and waiting for investigation by members.[[BR]]
 - Czech Republic is working with both EHS and MRAR data.[[BR]]
 - **VARBC:** Meteo France did not started working on this yet. HIRLAM is planning to use ECMWF coefficients in warm update cycling.[[BR]]

* **Near surface data:** [[BR]]
 - **Magnus** reported, in connection to problem related to assimilation of MSLP, use of station height doesn't show clear impact. Bator will have the right station height (??). High altitude observations need bias correction. [[BR]]
 - **Alena** reported problem with metadata in the BUFR-formatted surface observations.[[BR]]
 -**Netatmo:** MET Norway is exploring these data. Meteo France is also looking to similar data. These data need significant work to quality  and bias control for data assimilation.[[BR]]

* **COPE:**[[BR]]
 - **Eoin** in his presentation showed the interaction between SAPP - MARS ODB - ODB servers. COPE creates ODB2 database, which needs to be converted to ODB1 for an efficient use in our system. This conversion was an issue. He is keeping Eyes on ODB_API, which seems to be less problematic. Solution for further cycles seems to be Bator coupled with COPE.
 - Meteo France is exploring SAPP, ECODES (??) before Bator. We need the solution available in Bator with radar (HDF5) to be added in COPE.

----

== First meeting: 29 March 2016, 10:00 CET ==

=== Participants ===


 * Jelena Bojarova
 * Magnus Lindskog
 * Martin Ridal
 * Siebren de Haan 
 * Gert-Jan Marseille
 * Jeanette Onvlee
 * Alena Trojakova
 * Mats Dahlbom
 * Bjarne Amstrup
 * Eoin Whelan
 * Jana Sanchez Arriola
 * Maria Diez
 * Carlos Geijo 
 * Roohollah Azad 
 * Roel Stappers 
 * Roger Randriamampianina

=== Topic of the day: ===
* **Radiosonde BUFR Format:**[[BR]]
 – These data are operational at Meteo France (MF) since April 2015. At MF the BUFR data are given high priority when available, then low-resolution BUFR, followed by ASCII formatted data.[[BR]]
 – BUFR data are used by vertical cut by slots at the measurement position (?).[[BR]]
 – Vertical thinning for high-res BUFR is done so that more in PBL and less on higher levels. They found better statistics of observation-minus-first-guess is in PBL.[[BR]]
 – High-res BUFR can have roughly 400 hPa.[[BR]]

 – In Harmonie the implementation of the BUFR radiosondes uses significant levels, so far [https://hirlam.org/trac/raw-attachment/wiki/HarmonieVideoMeetings/Meeting_on_conventional_data_and_COPE/conventionalProgressEoinWhelan.pdf conventionalProgressEoinWhelan.pdf].[[BR]]

 – Regarding LACE implementation, Alena asked about amendment and correction of the BUFR messages. Jean-Francois said that probably they use the latest available data (one can ask Frank Guillaume about the details of MF processing). Eoin said the same, latest data taken by station ID.[[BR]]

* **Wind profilers:**[[BR]]
 Not much discussed, but MF have field campaign including wind profilers, which they would like to explore.[[BR]]

* **Aircraft derived data (ADD):**[[BR]]
* **Mode-S data:**[[BR]]
 – At KNMI both 3D-VAR and 4D-VAR schemes were tested with Modes-S. The data thinning is done in Bator ensuring 15 km distance. The data selection is +/- 15 min around the assimilation time. They found improvement of the first-guess, and wind improvement is up to 24 hour forecast, using these data. So, far somehow the performance of 4D-VAR is less accurate than that of 3D-VAR (??).[[BR]]
 – KNMI is testing these data and will have them in operational mode soon.[[BR]]
 – DMI uses these data in operational with inflated observation errors for temperature, and they select data within +/-45 min around the assimilation time.[[BR]]
 – In OPLACE one can find MRAR data, which are operational in Slovenia.[[BR]]
 – Both EHS, MRAR, RDAR (?) showing good impact in Czech Republic.[[BR]]
 – The processing of data from KNMI is under progress in OPLACE.[[BR]]
 – MF started the installation of facilities that make available ADD data. They tested the EHS data from KNMI within the SESAR project and found similar impact as on KNMI system.[[BR]]
 – AENET (Spain) will also install ADD reception facilities in collaboration with MF (?).[[BR]]
 – VarBC for aircraft data: not touched yet at MF because of lower priority.[[BR]]
 – Position problem is not usual for Mode-S data.[[BR]]

* **(near)Surface data:**[[BR]]
 SMHI (**Jelena** and **Magnus**) reported that instead of using MSLP and due to extrapolation problem, they tested the use of station hight. They found positive impact on geopotential. The impact is larger in daytime compared to night. [[BR]]

* **GPS ZTD:** [[BR]]
 – Bias correction at MF uses VarBC with 3 predictors. They some issues with the Arpege model (while correcting the model errors and have geopotential gradient after 2 days forecast. After using new convection scheme they got different model error and VarBC could fit better (??). [[BR]]
 – At MF, VarBC in AROME gives positive impact.[[BR]]
 – **Magnus** and **Sigurdur** reported that use of more predictors (2) in Harmonie have some issues related to cycling of the coefficients. With implementation work is in progress.[[BR]]

* **COPE:**[[BR]]
 – **Eoin** presented the implementation COPE “flavours” in the Harmonie system, where one can see that Oulan is changed [https://hirlam.org/trac/raw-attachment/wiki/HarmonieVideoMeetings/Meeting_on_conventional_data_and_COPE/copeProgressEoinWhelan.pdf (see presentation)].[[BR]]
 – **Jean-Francois** make a short report about the COPE meeting in Toulouse (?). The pre-processing part of COPE using conventional Observations is in operational at ECMWF. He promised to prepare a summary to CSSI&MG meeting after the All Staff Meeting.[[BR]]
 – **Jelena** mentioned the importance of connection between COPE-OOPS-4DVAR trajectory computation. Getting involved in this process is very important.[[BR]]

* **GPS slant delay:**[[BR]]
 – **Siebren** presented his implementation of the observation operator for slant delay data in the Harmonie data assimilation system. Observation operator uses full model levels. TL & AD involve (?) 65 positions (all model levels along the path of the ray).[[BR]]
 – A single observation experiment shows nice and “logical” increment. But, further sensitivity studies show small increments, so far. Siebren is working on this issue.[[BR]]
 – The implementation of the observation operator was inspired by the framework of GPS RO.[[BR]]