[[PageOutline]]
[[Center(begin)]]
=== '''Harmonie System Training''' ===
= '''HARMONIE climate generation, domain selection and model coupling''' =
[[Center(end)]]

== Construction of model domain ==
 * [wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Modeldomainsettings selection from config_exp.h]
 * construction of new model domain: what to consider
== Climate Generation ==

 * [wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Climategeneration Climate Generation]
 * [http://www.cnrm.meteo.fr/gmapdoc/spip.php?page=recherche&recherche=e923 e923 documentation on gmapdoc]
 * [http://www.cnrm.meteo.fr/gmapdoc/spip.php?rubrique24 Projections]
 * [http://www.cnrm.meteo.fr/gmapdoc/spip.php?article108 Presentation from J.D. Grill]
 
== Model nesting ==

  * [wiki:HirlamSystemDocumentation/Mesoscale/HarmonieScripts#Boundaryfilepreparation Boundaryfile Preparation]

=== Interpolation with gl ===

 gl has two different LBC scenarios, data from HIRLAM or ECMWF.

   *  setup_ecmwf.f90/ec2ald.f90
   *  setup_aladin.f90/hl2ald.f90

In the setup a list of fields to be read and interpolated are defined. The second routine does the job.

       * Setup list of fields
       * Define geometry by reading the climate fields
       * Make averages over tiles.
       * Interpolate horizontally (bilinear)
       * Vertical interpolation, same as in HIRLAM
       * Recalculate surface variables ( new by Alex Deckmyn, currently removed from trunk )
       * transform to spectral space (where needed)
       * output to FA


For the atmosphere the required fields are: Q,T,U,V,PS,ORO. Optional fields like TKE,Ql,Qr,Qs,Qh,... defined by ATMKEY in the 
[source:/trunk/harmonie/scr/hir2ald#L34 namelist]. If you need these or not depends on the choice in the forecast model 
[source:/trunk/harmonie/nam/namelist_fcstald_h_default#L238 namelist]

 * Deficiencies
       * No LSM check applied yet
       * No calculation of vertical divergence for NH case, set to zero

=== Interpolation with fullpos ===

 Fullpos is used for interpolation when we go from ALADIN to ALADIN/AROME
 source:/trunk/harmonie/nam/namelist_ald2arome_N_default#L114
 
 * [http://www.cnrm.meteo.fr/gmapdoc/spip.php?page=recherche&recherche=ee927 gmpadoc]

== [wiki:HarmonieSystemTraining2008/Training/DomainAndCoupling Hands on practice task] ==
== Reference Links ==

[[Center(begin)]]
[https://hirlam.org/trac/wiki/HarmonieSystemTraining2008  Back to the main page of the HARMONIE system training 2008 page]

[https://hirlam.org/trac/wiki/HarmonieSystemDocumentation Back to the main page of the HARMONIE-System Documentation]